[
{
	"uri": "/svarut/endringer/",
	"title": "SvarUt endringer",
	"tags": [],
	"description": "",
	"content": " Her er en liste over de viktigste endringene i SvarUt, startet i 2015.\nListe over endringer i SvarUt.  03.05.2018  Fiks mottakerkonfigurasjon, viste feil data om en ikke hadde tilgang til alle mottaker med samme orgnr. Validerer om orgnr er utfylt ved signeringsoppdrag Viser ikke avviste forsendelser i innkommende. Egen loginside for edialog  09.04.2018  Mulighet for å sende sensetivdata som nivå4 via edialog Viser hash av filene vi har mottat i søket Sende tilgang gjør at en kan endre og lage maler i import pdf, manuell forsendelse.  22.03.2018  FosendelseServiceV10 lagt ut for testing  14.03.2018  Støtte for å linke organisasjon i SvarUt til org i Fiks plattform  23.02.2018  Avviser fakturaforsendelser som skal printes med fakturaark på baksiden.  19.02.2018  Fix flette forsendelse som feilet når alle filene overskred 350mb. Grensen gjelder per forsendelse Signeringssvar har nå forsendelseType satt. Kan ikke signere etter at oppdrag er avvist.  13.02.2018  Fix ytelseproblem med mange filer i Send forsendelse.  01.02.2018  Giroark blir vist i søket.  03.01.2018  Kan ikke velge a-post og b-post lenger, faset ut av posten.  07.12.2017  La til størrelse på fil i SvarInn.  15.10.2017  Mulighet for å slå av ettersending i posten for organisasjoner som er varslet i altinn.  03.10.2017  Duplikatsjekk sjekker også alle adressefelt  20.09.2017  Lagt til dato på forsiden av edialog brev  01.09.2017  KunDigitaltLevert lagt inn i rapporter.  23.08.2017  Mottakersystem kan ikke ha samme navn Lenker følger med i SvarInn Sjekker orgnr mot difi før aktivering av SDP Signering lagt ut i produksjon  17.08.2017  Optimaliseringer for store rapporter i søk.  03.08.2017  Svarinn kan konfigureres med foresendelseType Fix rekkefølge på filer i zip fil. Denne var korrekt, men ved en tilfeldighet.  28.07.2017  Epost på avsender i edialog land ble ikke med i edialog  03.07.2017  Viser svarPåForsendelseLink i søket  06.06.2017  Send forsendelse, med KunDigital var også begrenset på 350mb, fjernet.  26.05.2017  Aktiverer varsel mail for edialog forsendelser som ikke er sendt.  19.05.2017  Signeringsløsningen går i produksjontest sms faktura grunnlag i sms rapport Send forsendelse med ny layout Tilgjengelig gjør pdf import for alle i send forsendelse  02.05.2017  Fix for sms rapport excel/csv dump, viser mer enn 20 linjer. Fix for sms søk viser flere treff Fix tlfliste excel dump, status ble feil ved to feiltyper.  27.04.2017  Edialog åpnet for flere formater, skal nå støtte alle arkiv formater.  21.04.2017  Excel opplasting på send forsendelse er begrenset til 5mb og import får kun kjøre i 1 min.  20.04.2017  Edialog framside har mistet postnr og poststed, fikset. Fikset manuell print varsel mail, deaktiverte avsendere fix. Fix for send forsendelse hvor filsjekk ikke ble korrekt alltid. Fikk avsendere uten fil, sjølv om fil var lastet opp.  06.04.2017  Fikset slik at deaktiverte avsendere ikke lager manuellprint varsel mail. Fjernet krav om postnr på utenlandsadresse.  31.03.2017  Sjekker orgnr mot difi ved aktivering av SDP. Avsenderid blir ikke sjekket, det er fortsatt mulig å legge inn ugyldig avsenderid som ikke er mottat fra difi. Legge til flere orgnr på mottakersystem fikset.  28.03.2017  Viser når tlf og epost er sist oppdatert i KRR register oppslag.  20.03.2017  Fix zip opplasting i send forsendelse. Siden zip ikke har encoding på filnavn i standarden. Handteringen er bedre nå slik at flere encodinger blir korrekt.  16.03.2017  Endret print pdf, skal nå ha med seg layers i print.  06.03.2017  Laget varselmail for manuellprint, blir nå varslet om det er eldre enn 7 dager siden printet sist.  03.03.2017  La til mulighet for å søke på tlfnr i sms rapport. La til sjekk for duplikate tlfnr i sms utsending, får ikke sende før duplikater er fjernet.  28.02.2017  Fix småfeil funnet i sms Leste forsendelser forsvinner nå fra manuellprint når de blir lest etter at forsendelsen er klar for print. Fikset feil i statestikk framside noen statuser ble ikke vist.  15.02.2017  Print kostnad forsvann fra excel/csv export etter nye loggfiler fra grafisk digtial, lagt inn igjen.  14.02.2017  Fjerner fnr fra edialog framside pdf Åpner sms utsending i produksjon Krever fakturakonfigurasjon utfylt når altinn blir valgt som kanal  31.01.2017  Fikset feil i send forsendelse hvor returadresse ble feil.  24.01.2017  Fikset feil hvor framsidetekst ble lagret som adresselinje 2 i konfigurasjonen  19.01.2017  Ny log melding fra grafisk digital, får nå tidspunkt for postlegging  11.01.2017  Fix for adresse henting i manuell forsendelse som kunne feil Mulighet for å ha flere varslings eposter i Mottakersystem Fiks for fakturafil til SDP, ble originalfil ikke den med grågiro.  19.12.2016  Fikset feil mimetype for excel fil i opplasting av mottakerliste fikset postnr som mangler i excel fil fikset orgnr som har mellomrom i excel fil  05.12.2016  Fjernet andrevarsel etter 24 timer i altinn. Dette resulterte ikke i flere leste forsendelser  11.11.2016  Kan legge til flere orgnr i samme operasjon i mottakersystem  21.10.2016  starter svarinn varsel mailer  20.10.2016  Noarkmetadata i excel/csv exporten under forsendelser  12.10.2016  fix import at mottakere i manuellforsendelse hvor postnr hadde leading zeros i excel fila.  15.09.2016  Mulighet for å hente status på eksternRef i forsendelse service Kunne markere svarinn forsendelse mottat i forsendelser søket i SvarUt Kutter sms tekst til SDP hvis den oversskred grensen på 160 tegn Endret from adresse i altinn varser til noreply@altinn.no  13.09.2016  Fikset zip fil opplasting manuell forsendelse  30.08.2016  Mulighet for å legge på orgnr på avsender som brukes som returadresse. Mottakere som svarer digitalt vil svare til dette orgnret. Fletteforsendelse i send forsendelse. Mulighet for å laste opp ei fil for hver mottaker. F.eks ved utsending av faktura.  27.06.2016  Kan sende svar på forsendelse url med forsendelser fra send forsendelse  20.06.2016  Endret max størrelse til 350mb for filer til print, og ubegrenset for kundDigitalForsendelse filer.  09.06.2016  Søk etter forsendelser for SvarInn lagt ut. Edialog er klar for test.  14.04.2016  Forsendelser med en side blir alltid simplex print, uansett hva avsender sender.  11.04.2016  Sender varslinger med original filer for nedlasting, en link per fil og mulighet for å laste ned alle i zip fil. SDP med sendMedDokumenter skrudd på, vil nå sende alle filene med, første fil som hoveddokument og resten som vedlegg.  22.03.2016  Fiks for lesefrist, etter endring til 40 timer tok den ikke høgde for arbeidsdager, no er det 40 timer på dager som er arbeidsdag. Ikke levert status for kunDigitale forsendelser hvor link til nedlasting ikke har vert mulig å levere.  16.03.2016  svarSendesTil brukes nå som avsender på postlagt brev også. Gjelder v5. Bedre feilmeldinger på v5 servicen.  14.03.2016  Endret antall timer vi venter på at forsendelse skal bli lest i altinn fra 48 timer til 40. Alle som har tilgang til forsendelser i svarut kan nå sette disse til Manuelt handtert. Dette betyr at SvarUt slutter å sende forsendelsene videre. De er fortsatt tilgjengelig.  25.02.2016  Fikset feil ved send forsendelse hvor noen fikk opp feilmelding om at pdfene overskred 250mb uten at de gjorde det.  08.02.2016  Ny epost mal for varslinger fra altinn.  01.02.2016  Fikset maler som bruker html i extra_text.  15.01.2016  Mulighet til å endre epost, sms og meldinger i altinn og sdp. Hver avsender kan nå skrive den teksten de vil. Det er viktig å teste disse endringene før de taes i bruk i produksjon. Spesielt digipost er veldig restriktive på hva de godtar i dokumentet.  12.01.2016  Når varsling feiler i SDP blir forsendelsen send til print, dette for at vi skal overholde forskriften om levering.  21.12.2015  Svar på forsendelse metadata lagt på ForsendelseServiceV5. Mulighet til å lage tråder basert på forsendelser.  17.12.2015  Fikset feil mot SDP, sdp takler kun 100tegn i tittel, vi kapper tittel hvis den er lenger.  15.12.2015  Send til SDP med dokumenter fungerer, det er begrensning på 10 mb og vi sender kun pdf filer. Andre filer godtar ikke sdp, og de avviser filer over 10mb. Det som ikke blir sendt til SDP blir send med link til filen i svarut.   07.12.2015  Statistikk på framsiden, blir nå oppdatert hver time.  25.11.2015  Fikset feil, der framgangsbaren i send forsendelse kunne stoppe.  20.11.2015  Sjekker at bilder i pdfer er lesbare.  19.11.2015  Registrerer hvem som bruker manuell print.  21.10.2015  Viser noark metadata i søkesiden om dette er sendt med forsendelsen. Endret søk etter mottaker, no må hele navnet treffe. søk på \u0026ldquo;truls normann\u0026rdquo; treffer på \u0026ldquo;Ola Truls Normann\u0026rdquo;.  12.10.2015  Fikset en feil der Send Forsendelse puttet filene i feil rekkefølge. No blir det rekkefølgen som står på siden. Laget mulighet for å hente status på flere forsendelser i et kall. La til nivå og hvilken postboks i sdp forsendelsen ble sendt til på rapporter. Fjernet advarsel tekst på SDP. SDP skal no være godt testet i produksjon. Alle forsendelser blir sjekket mot kontaktregisteret, reserverte blir nå sendt direkte til print og ikke til altinn.  10.08.2015  Tegnsett på melding i e-boks-grensesnitt skal være fikset  29.07.2015  Altinn sender nytt varsel etter 24 timer om meldingen ikke er åpnet.  24.07.2015  Mulighet til å sende nivå4 forsendelser med send forsendelse.  14.07.2015  Fikset import av xls fil for send forsendelse. Poststed ble land.  02.07.2015  Admin kan nå velge mellom å sende forsendelse til Altinn eller SDP  22.06.2015  Bedre håndtering av tilgangskontroll  18.06.2015  Fikset orgnr kom ikke med på organisasjons mottakere når de skulle sendes, via svarut websiden med send forsendelse.  17.06.2015  Fikset feil hvor personer med lesetilgang ikke fikk opp Forsendelser i menyen.  12.06.2015  Fikset problem med gamle avsendere som ikke kunne få fjernet person  11.06.2015  La til rettighet lese slik at en kan få tilgang til å lese forsendelseloggen. Fikset feil i giroark generering, kom på feil side ved dobbelsidig print. Print fikk digital ark.  05.06.2015  Fikset feil i mottaker ved opplasting av sertifikat. Fikset nedlasting av nivå4 dokument, hvis du allerede var innlogget med nivå3 i svarut. Fikset retry hvis oppslag i kontaktregisteret feilet.  29.05.2015  Fikset avsender advarsler om en har feil på avsender. Fikset ytelse for SDP, skal nå gå mye raskere å sende til SDP. Fikset feil ved lagring av print konfigurasjon uten gyldig fakturakonfigurasjon.  26.05.2015  Fikset manuell forsendelse til organisasjoner: Organisasjoner ble sendt direkte til print i manuell forsendelse.  19.05.2015  Fikset hent info for organisasjoner. Sluttet å fungere etter endringene i send forsendelse.  18.05.2015  Fikset excelmal for send forsendelse. Skal no ikke fjerne 0 i starten på fødselsnr. Default verdier for send forsendelse er tosidig og b-post, som blir billigste alternativ. Fikset feil ved at konfigurasjon ikke ble lagret før tittel var utfylt i send forsendelse.  13.05.2015  Send forsendelse kan no laste opp og ned mottakere i excel format. Det er testet med ca 100.000 mottakere, men fleire skal gå helt fint.  12.05.2015  Fikset feil dato på printlogger fra Grafisk Digital, 19:00 ble 07:00  07.04.2015  Feilfiks i konfigurasjonsgrensesnitt, tilganger til organisasjon fungerte ikke. Oppdatering av statistikk på forsiden (lest-statistikk skal være oppdatert og mer korrekt) Endret validering for konteringskoder: det er nå tillatt med punktum (.) og øæå i konteringskoder  01.04.2015  Første utkast til integrasjon mot SDP, er klar til produksjonstest fra SvarUt sin side. Oppgraderte kodeeksempel til v4 av servicen Generelle ytelse forbedringer, økte ytelsen mot Grafisk Digtal, den var litt treig når det ble sendt 80.000 forsendelser fra Bergen.  03.03.2015  Endret antall likelydende forsendelser før de blir avvist til 25 fra 5.  06.02.2015  Scrollbar på konfigurasjonssiden hvis en har mangen avsendere/organisasjoner. Økte timeout på søk til 30 sekund.  03.02.2015  Lagt til ekstra metadatafelt for avleverende sakssystem på forsendelsesservice versjon 3 og 4 HTTP Strict transport security lagt til  30.01.2015  Innførte validering av forsendelser som blir gjentatt. Hvis avsender, tittel og mottaker er like på 5 forsendelser innenfor 2 døgn, blir gjentagende forsendelser avvist. Det tar 2 døgn etter siste forsøk før vi slipper igjennom den samme kombinasjonen. Dette betyr at 5 forsendelser som er like blir kjørt igjennom, nummer 6++ blir avvist. En tidlig utgave av ForsendelsesServiceV4 er lagt ut for å begynne testing av nivå4 dokument.  16.01.2015  Innførte sterk kryptering av filene som er lagret på server. Originalfiler blir ikke lagret på server hvis det er unødvendig. For å begrense antall filer som må krypteres. Hvis filnavn har mapper, blir forsendelsen avvist (/ eller \\ i filnavn)   "
},
{
	"uri": "/fiks-platform/tjenester_under_utvikling/digisos/",
	"title": "Digisos",
	"tags": [],
	"description": "",
	"content": " Fiks-digisos er et knutepunkt for overføringer av søknader om sosialstønad fra Nav til den enkelte kommune som skal utføre saksbehandling.\nTjenesten er tett integrert med fiks-platformen, og tilbyr:\n Enkelt oppsett for den enkelte kommune gjennom fiks-konfigurasjon Overføring av søknader gjennom fiks-svarinn og fiks-dokumentlager. Disse kan hentes endten gjennom direkte integrasjon mot kommunens sak/arkiv eller fagyststem, eller manuelt gjennom fiks-svarinn-forvaltning. Innbygger får fortløpende oppdatering på saksgang, tilgjengelig gjennom fiks-meldingsboks og på nav.no. Nye hendelser i saksgang kan varsles gjennom fiks-sms.   Flyt  Innbygger fyller ut søknad om sosialstønad på nav.no, som sender denne til fiks-digisos. Fiks-digisos mottar søknaden.  Søknadsfilen legges i fiks-dokumentlager, kommunen og innbyggeren autoriseres for tilgang. Det gjøres oppslag i fiks-register for å se om det finnes en mottaker på nav-enhetsnummeret som er spesifisert, og om denne mottakeren er i stand til å behandle digisos-formatet. Det gjøres et kall mot fiks-svarinn, hvor filen blir validert og sendt til mottakeren. Hvis punktene over blir gjennomført ok opprettes en digisos-melding i fiks-meldingsboks. Denne autoriseres for innbyggeren.  Fiks-svarinn legger meldingen på køen som samsvarer med mottaker-id\u0026rsquo;en som ble spesifisert av fiks-digisos. Det kommunale fagsystemet mottar melding om ny fiks-digisos søknad. Når det kommunale fagsystemet bekrefter mottak av søknaden oppdateres status i fiks-digisos Når saksbehandling er fullført meldes dette til digisos:  Svar-pdf legges i fiks-dokumentlager, autorisert for innbyggeren Digisos saken i fiks-meldingsok oppdateres    "
},
{
	"uri": "/fiks-platform/tjenester_under_utvikling/svarinn/",
	"title": "SvarInn 2.0",
	"tags": [],
	"description": "",
	"content": "SvarInn 2.0 er en ny versjon av den gamle SvarInn tjenesten, som nå er flyttet over på fiks-plattformen.\nDe gamle grensesnittene blir videreført i 2.0, men det utvidet funksjonalitet har også kommet til:\n Sett opp tjenesten i fiks-konfigurasjon. SvarInn kan nå konfigureres i fiks-konfigurasjon, og man kan autorisere tilgang til svarinn-mottak for spesifikke personer. Send direkte til SvarInn. Tidligere var SvarInn en mottakskanal spesifikk for SvarUt. I den nye versjonen er SvarUt og SvarInn koblet fra hverandre, slik at man kan sende direkte til SvarInn. Dette bruksmønsteret anbefales spesielt for maskin-til-maskin integrasjon, for eksempel hvis systemet ditt skal levere direkte til en fagsystem i en kommune. Valider meldinger du sender. Det er nå mulig å anngi meldingstype i SvarInn, og forsendelsen din vil da bli validert før den sendes til mottaker. Finn mottakere gjennom fiks-svarinn-register. SvarInn Register, en ny tjeneste på fiks-plattformen, gjør det mulig å finne en mottaker og se hvilke formater mottakeren aksepterer. For eksempel kan man finne et sosialkontor basert på nav-enhet-id, og bekrefte at dette kan håndtere digisos-v1 forsendelser. Hent meldinger via AMQP pub-sub. I dag hentes meldinger fra SvarInn ved å polle et REST-Api. Dette blir videreført i SvarInn 2.0, men det det blir også mulig (og anbefalt) å hente meldinger via AMQP publish-subscribe. Dette åpner for mer effektiv og raskere prosessering av meldinger. Svar på meldinger. Det blir mulig å sende meldinger med på RPC mønster, slik at avsender kan forvente et svar på en melding. Svaret mottas på vanlig måte gjennom SvarInn. Dette kan for eksempel brukes hvis man vil vite hvilket saksnummer en innsendt søknad har blitt utstyrt med i kommunens sak-og-arkiv system.  "
},
{
	"uri": "/fiks-platform/tjenester/meldingboks/",
	"title": "Meldingsboks",
	"tags": [],
	"description": "",
	"content": " Søk er en modul i min-side som består av tre hovedkomponenter:\n Meldingsboksen, en single page webapp (SPA) som tilbyr et grensesnitt mot søkemotoren for å finne meldinger basert på søkekriterier og filtre. Meldingssøk, en søkemotor som støtter fritekstsøk og score-rangerte resultater. Meldingsindexer, en indekseringstjeneste som integrasjoner kan benytte for å laste opp meldinger: hendelser, fakturaer, saker, journalposter, forsendelser, osv.\n  Søkeresultatet scores på relevans: nye meldinger scores høyere enn gamle, uleste dokumenter høyere enn de du har lest, ubetalte faktura høyere enn de du har betalt, og så videre. Den tilbyr flere filtre: dato, organisasjon, enhet, og mulighet for å søke på ord som fremkommer i meldingen. Den kompanserer for stavefeil, bøyeform eller orddeling. Alle søk er også filtrert på innloggingsnivå. Et søk gjort med innlogging på nivå tre vil ikke returnere grupper som er satt til nivå fire, uavhengig av om disse gruppene traff på søket.\nSøkemotoren inneholder utelukkende metadata. Om meldingen skal peke til et dokument, bilde eller annen fil gjøres dette i form av en lenke: integrasjonen kan da benytte Fiks-plattformens filarkiv eller en egen løsning for å tilgjengeligjøre filen.\nNår plattformen lanseres er Fiks SvarUt den første integrasjonen som leverer meldinger til meldingsboksen - hvis kommunen ønsker dette kan alle meldinger som noen sinne har blitt sendt gjennom svarut gjøres tilgjengelig for mottakerene. Dette styres gjennom fiks-konfigurasjon.\nIntegrasjonsutvikling Indekseringstjeneste (api-spec) Indekseringstjenesten lar integrasjoner opprette meldinger, eller fjerne / endre meldinger som alt er opprettet.\nIndeksering De vanlige autentiseringsreglene for Fiks-plattformen gjelder for denne tjenesten, men i tilegg må integrasjonen har rett til å indeksere på vegne av fiks organisasjonen som er satt som eier den aktuelle meldingen.\nEndepunktet støtter batch av opptil 5000 elementer, og integrasjonsutviklere anbefales å benytte denne funksjonaliteten, da det skaper vesentlig mindre trykk på systemet. Merk at indeksering ikke er en atomisk transaksjon: deler av elementene i en batch kan bli indeksert selv om andre feiler. Informasjon om dette finnes i responsen.\nGjennomføring av batch-operasjoner skjer synkront fra ståstedet til en bruker av tjenesten: responsen blir ikke sendt før batchen er gjennomført. Dermed vil man kunne vite at en gruppe opprettet i batch 1 eksisterer når batch 2 gjennomføres, så lenge disse utføres sekvensielt.\nNoen viktige punkt for integrasjonsutviklere:\n Hvis man ikke har informasjon for å sette et felt (f.eks. om man ikke har \u0026ldquo;avsender\u0026rdquo; for en forsendelse) bør ikke feltet settes (i stede for å sette \u0026ldquo;null\u0026rdquo;, \u0026ldquo;mangler\u0026rdquo; eller lignende). For fiks organisasjon og enhet kan man i tillegg til å sette identifikator også sette visningsnavn. Dette vil bli benyttet i webapplikasjonens grensesnitt og filter. Merk at hvis man endrer dette vil det nye navnet bare benyttes på grupper / hendelser som er indeksert etter endringen ble gjort. For å gjøre en fullstendig operasjon må hendelsene reindekseres. Eksponert for angir hvem som skal kunne se meldingen. Dette kan være endten et organisasjonsnummer eller et fødselsnummer. Merk at hver melding bare kan eksponeres for en person/org, hvis man ønsker at flere aktører skal kunne se samme informasjonen må gruppen indekseres flere ganger.  Sletting Indekserte meldinger kan fjernes ved å benytte endepunkt for sletting. Her gjelder de samme reglene som over: en integrasjon må være autorisert for å handle på vegne av en ansvarlig organisasjon for at sletting kan gjennomføres.\nMerk at sletting på samme måte som indeksering ikke gjennomføres i en atomisk transaksjon: deler av meldingene i batchen kan bli slettet selv om andre feiler.\nSøketjeneste (api-spec) Hvis kommunen har en eksisterende løsning for innloggede innbyggertjenester kan det være aktuelt å benytte meldingssøket som en tjeneste fremfor en webapplikasjon. Merk at kommunene da tar ansvar for å fremskaffe Open Id Connect innloggingstoken fra ID-porten, og for å sørge for at dette tokenet er gyldig. Meldingssøk tjenesten vil fortsatt utføre nødvendig autorisering.\n"
},
{
	"uri": "/fiks-platform/integrasjoner/",
	"title": "Integrasjonsutvikling",
	"tags": [],
	"description": "",
	"content": " Integrasjoner Før eksterne systemer kan integreres med plattformen må det opprettes en integrasjon inne i konfigurasjonsgrensesnittet. Integrasjonen bør gis et beskrivende navn, i tillegg til at organisasjonsnummeret som ligger i virksomhetssertifikatet som skal brukes til å kalle tjenesten må skrives inn. Etter at integrasjonen er opprettet vil den være tilgjengelig for alle tjenester tilhørende organisasjonen den ble opprettet for.\nEn integrasjon må autoriseres for å bruke tjenester i plattformen. Om man for eksempel ønsker å aktivere en integrasjon som skal kunne indeksere meldinger for MinSide Søk må dette gjøres på konfigurasjonssiden. Dette vil sørge for at nødvendige rettigheter blir tildelt.\nPlattformen har også noen integrasjoner som kalles \u0026ldquo;globale integrasjoner\u0026rdquo;. Dette er integrasjoner som er tilgjengelig for alle organisasjoner. Dette kan for eksempel være integrasjonen som henter meldinger fra SvarUt og gjør disse tilgjengelig i MinSide Søk.\nTeknologier REST Vi benytter REST lignenede grensesnitt på alle api så lenge det er gunstig. Kun ved spesielle behov vil det bli benyttet annen teknologi. Spesifikasjonen vil bli publisert ved OpenAPI spec. Da finnes det mange verktøy for å lage klienter i forskjellige språk og teknologier. Vi vil benytte UTF-8 charset på alt om ikke annet er spesifisert.\nReadtimeout på 30 sekund er fint som default. De operasjoenen som trenger noe annet vil spesifisere det.\nInnlogging og autorisasjon ntegrasjoner autentiseres ved at organisasjonen henter et OAuth 2.0 access token fra ID-Porten, identifisert ved hjelp av organisasjonens virksomhetssertifikat. Dokumentasjon for dette finnes her. Vi støtter i første omgang kun JWT access_tokens, dette må konfigureres hos idporten.\nFølgende må gjøres i fiks konfigurasjon for å opprette en integrasjon:\n Sett autorisert organisasjon. Dette vil som regel være organisasjonen som eier systemet som skal integrere seg mot Fiks, for eksempel hvis et fagsystem installert hos Bergen Kommune skal integreres mot meldingsboksen. Genererer servicepassord. Tildel navn. Et visningsnavn for integrasjonen. Sett beskrivelse. En beskrivelse av hva integrasjonen er og hvilke oppgaver den løsner. Sett tjenester. Hvilke tjenester er denne integrasjonen aktuell for?  I tillegg må integrasjonen autoriseres for tilgang til en spesifikk tjeneste. Hvis fagsystemet skal kunne laste opp meldinger til Meldingsboksen må en administrator i kommunen benytte Fiks-Konfigurasjon for å legge til denne tilgangen hos den relvante kommunen.\nKallet mot Fiks-platform tjenesten trenger dermed følgende HTTP headere:\n Authorization: OAuth-2.0 Jwt Access token som bekrefter organisasjonens identitet, signert av ID-Porten. IntegrasjonId: Id for integrasjonen, generert i Fiks-Konfigurasjon. Orgnr i Jwt\u0026rsquo;en i Authorization header må være konfigurert som autorisert organisasjon for integrasjonen. IntegrasjonPassord: Passord for integrasjonen, generert i Fiks-Konfigurasjon  Huskeliste  access_token fra idporten access_token må ha scope ks Read timeout: 30 sekunder Charset UTF-8  "
},
{
	"uri": "/fiks-platform/sikkerhet/",
	"title": "Sikkerhet og personvern",
	"tags": [],
	"description": "",
	"content": " Under kommer generelle retningslinjer for hvordan vi har sikret applikasjonene, skulle noe avvike fra dette vil det være spesifisert i hver tjeneste.\nKryptering All kommunikasjon med FIKS utenfra er kryptert med TLS.\nFiks-plattformen lagrer data i fiks-dokumentlager, og alt krypteres før det lagres. All backup er også kryptert. Nøkler oppbevares på egne servere som er satt opp spesielt for dette formålet.\nAutentisering Personer autentiseres ved hjelp av Open-Id Connect løsningen til ID-Porten. Dette vil si at de (om de ikke allerede er innlogget) dirigeres til ID-Porten for innlogging ved hjelp av for eksempel MinId eller BankId. ID-Porten og Fiks utveksler så informasjon for å bekrefte brukerens identitet og hvilket innloggingsnivå som er benyttet. Utgåtte innlogginger vil automatisk bli fornyet.\nFlere tjenester på fiks-platformen har også mulighet for maskin-til-maskin kommunikasjon, for eksempel når et saksystem laster opp meldinger til meldingsboksen. Dette gjøres gjennom å opprette integrasjoner, som autentiseres ved hjelp av et virksomhetsertifikat-basert access token utstedt av ID-Porten i kombinasjon med integrasjonsid og passord generert av fiks-konfigurasjon. Se [integrasjoner]/fiks-platform/integrasjoner/ for mer informasjon om oppsett av dette.\nAutorisering Hvordan en aktør autoriseres på fiks-plattformen avhenger av hvem aktøren er og hvordan han bruker systemet:\n Personer som bruker tjenester på vegne av seg selv, for eksempel en innbygger som søker barnehagesøknaden sin i meldingsboksen. Disse krever som regel ikke videre autorisering. Personer som bruker tjenester på vegne av en bedrift hvor de har en rolle, for eksempel en innbygger som henter ned en forsendelse til bedriften fra svarut. Disse autoriseres for tilgang til bedriftens data og tjenester basert på roller de innehar i Altinn. Personer som forvalter en tjeneste på fiks-plattformen på vegne av en fiks-organisasjon, for eksempel en kommuneansatt som konfigurerer meldingsboksen. Disse autorisereres for hver enkelt tjeneste og funksjon gjennom fiks-konfigurasjon. Systemer som er installert i en organisasjon som integrerer seg mot en tjeneste på fiks-platformen. Fiks-konfigurasjon tilbyr grensesnitt hvor hver enkelt kommune kan autorisere integrasjoner for tilgang til sine tjenester (og fjerne slik tilgang hvis det ikke lengre skulle være ønskelig).  Personvern Utgangspunktet er at det er innbyggeren som eier sine data, og tilgang begrenses i så stor grad som mulig. Dette vil si at:\n Innbyggeren kan slette sine data om han ikke ønsker fiks-tjenesten skal oppbevare dem. Innbyggeren kan gi beskjed om at han ikke lengre ønsker at hans data skal lagres på plattformen. Tilgang er begrenset i så stor grad som mulig. Dette vil for eksempel si at det utelukkende er innbyggeren som kan lese meldinger i fiks-meldingsboks - disse er skjult også for integrasjonen som i utgangspunktet lastet de opp, og for kommunen som er ansvarlig for meldingene  Noen tjenester gjør data om en person tilgjengelig for tredjepart. I slike tilfeller vil dette bli dokumentert i tjenstebeskrivelsen, autorisert eksplisitt i fiks-konfigurasjon, og underlagt audit-logging, slik at det blir mulig å hente ut informasjon om hvem som har hatt tilgang til hvilke data når, og under hvilken lovhjemmel tilgangen ble oppnådd.\n"
},
{
	"uri": "/svarut/edialog/",
	"title": "Edialog",
	"tags": [],
	"description": "",
	"content": " Sikker innsending av brev via SvarUt til mottakersystem i SvarUt. For å starte å bruke eDialog må du benytte SvarInn. eDialog kan aktiveres i konfigurasjonen for en avsender i SvarUt. Alle brev som blir send til eDialog mottakeren du konfigurerer vil bruke denne avsender for eventuelle kostnader tilknyttet forsendelsen.\neDialog åpen innsending eDialog er tilgjengelig på https://svarut.ks.no/edialog/ Her kan en velge mottaker blandt alle som er registrert i SvarUt.\neDialog med predefinert mottaker Hvis en vil linke til eDialog med ferdigutfylt mottaker kan en brukelinken https://svarut.ks.no/edialog/mottaker/\u0026lt;orgnr\u0026gt; Da vil det ikke være mulig å endre mottaker.\nSvare på forsendelse ved bruk av eDialog Hvis en benytter v6 eller nyere av forsendelseservicen i SvarUt kan en sende med en lenke til eDialog for å besvare forsendelsen. Denne linken vil da ha utfylt avsender, mottaker og tittel.\n En sender inn forsendelse med svarPaForsendelseLink = true, svarSendesTil utfylt med orgnr lik en edialogmottaker sitt orgnr. Avsender får en forsendelseid i retur. SvarUt sender vanlig varsel til SDP/Altinn med link for å kunne svare på forsendelsen. Innbygger/mottaker klikker på \u0026ldquo;svar på forsendelse\u0026rdquo; link i Altinn/SDP. Innbygger/mottaker fyller ut edialog skjema og trykker send. Edialog sender kvittering på innsendt skjema til Innbygger Edialog lager en ny forsendelse til avsender. Dette er utfylt med svarPaForsendelse lik forsendelseid til opprinnelig forsendelse. Sak/Arkivsystem mottar forsendelse via SvarInn og ser at dette er svar på utgående forsendelse og putter svaret på samme sak.  "
},
{
	"uri": "/svarut/integrasjon/forsendelseservicev1/",
	"title": "ForsendelseServiceV1",
	"tags": [],
	"description": "",
	"content": " Her beskrives funksjonalitet for ForsendelseServiceV1. For å sikre bakoverkompatibilitet for klientene så vil denne versjonen ikke endres.\nWSDL Tilgang For å benytte Web servicen må en bruke HTTP Basic autentication med brukernavn(avsendernavn) og service-passord. Avsender opprettes av KS-SvarUt administrator/organisasjons administrator og service-passordet genereres av avsender ansvarlig via konfigurasjon-siden.\nTjenester Forsendelsesservicet tilbyr følgende funksjonalitet:\nsendForsendelse Hovedtjeneste som sender inn forsendelse til ekspedering av KS-SvarUt. Følgende metadata inkluderes:\n  Felt Beskrivelse Validering     Mottaker PrivatPerson eller Organisasjon, for sending til Altinn må orgnr/fødselsnr være utfylt.   Navn Navn på mottaker. Må være utfylt   Adresse1 Adresselinje1   Adresse2 Adresselinje2   Adresse3 Adresselinje3   Postnr Postnummer Må være utfylt   Poststed Poststed Må være utfylt   Fodselsnr Hvis Privat, må være utfylt for å kunne levere til altinn.   Orgnr Hvis organisasjon, må være utfylt for å kunne levere til altinn.   Avgivende system Identifikator som identifiserer systemet som gjør web-service kallet, vil blant annet kunne benyttes for statistikk og feilsøking. Bruk følgende for sak/arkivsystemene: Ephorte, ESA, 360 og Websak. For andre fagsystemer avtales dette med KS KommIT på [svarut@ks.no](mailto:svarut@ks.no). Obligatorisk felt.   Tittel Tittel på forsendelsen. Tittel blir vist i tittelfeltet på melding til Altinn, og i listen over innkommende meldinger. Må være utfylt   Konteringskode Kode som beskriver faktureringskonto for forsendelsen. Kan benyttes for å gruppere meldingsstatistikk gjennom forvaltningsløsningen, og sendes videre til print-leverandør. ^[a-zA-Z0-9\\-\\.øæåØÆÅ]{0,20}$   Printkonfigurasjon Konfigurasjon for hvordan dokumentet skal printes, dobbeltsidig, fargeprint, A-Post, B-Post   Liste med pdf filer Rekkefølgen er rekkefølgen de kommer i brevet. Filnavn er for intern bruk, må være unikt i en forsendelse. Mimetype på være application/pdf. Kun det som blir støttet nå. Total filstørrelse inntil 250MB er støttet.    retrieveForsendelseStatus Henter status for en forsendelse. En forsendelse kan ha en av tilstandene beskrevet under:\nTilstander (normalløp): Mottatt Et kall mottatt på forsendelses-service. En id blir tildelt forsendelsen. Akseptert Meldingen er validert og forsendelsesfil dannet. Varslet Et varsel om forsendelsen er sendt til varslingstjenesten. Lest En forsendelse er lest når hele forsendelsesfilen er lastet ned av mottaker. Sendt print Forsendelsen er blitt overført til printleverandør. Printet Printkvittering mottatt fra printleverandør eller manuell print bekreftet(via webgrensesnitt).  Tilstander (unntak): Avvist Forsendelsen er ikke validert pga. manglende/korrupt metadata, eller fordi forsendelsesfil ikke kunne dannes. Manuelt håndtert Forsendelsen er manuelt avsluttet, f.eks. pga en feilsituasjon.  "
},
{
	"uri": "/svarut/integrasjon/forsendelseservicev2/",
	"title": "ForsendelseServiceV2",
	"tags": [],
	"description": "",
	"content": " Her beskrives funksjonalitet for ForsendelseServiceV2. For å sikre bakoverkompatibilitet for klientene så vil denne versjonen ikke endres.\nWSDL Tilgang For å benytte Web servicen må en bruke HTTP Basic autentication med brukernavn(avsendernavn) og service-passord. Avsender opprettes av KS-SvarUt administrator/organisasjons administrator og service-passordet genereres av avsender ansvarlig via konfigurasjon-siden.\nTjenester Forsendelsesservicet tilbyr følgende funksjonalitet:\nsendForsendelse Hovedtjeneste som sender inn forsendelse til ekspedering av KS-SvarUt. Følgende metadata inkluderes:\n  Felt Beskrivelse Validering     Mottaker PrivatPerson eller Organisasjon, full adresse må være utfylt, for sending til Altinn må orgnr/fødselsnr være utfylt. Støtte for utenlandske adresser.   Navn Navn på mottaker. Må være utfylt   Adresse1 Adresselinje1   Adresse2 Adresselinje2   Adresse3 Adresselinje3   Postnr Postnummer Må være utfylt   Poststed Poststed Må være utfylt   Land Land   Fødselsnr Hvis Privat, må være utfylt for å kunne levere til altinn.   Orgnr Hvis organisasjon, må være utfylt for å kunne levere til altinn.   Avgivende system Identifikator som identifiserer systemet som gjør web-service kallet, vil blant annet kunne benyttes for statistikk og feilsøking. Bruk følgende for sak/arkivsystemene: Ephorte, ESA, 360 og Websak. For andre fagsystemer avtales dette med KS KommIT på [svarut@ks.no](mailto:svarut@ks.no). Obligatorisk felt.   Tittel Tittel på forsendelsen. Tittel blir vist i tittelfeltet på melding til Altinn, og i listen over innkommende meldinger. Må være utfylt   Konteringskode Kode som beskriver faktureringskonto for forsendelsen. Kan benyttes for å gruppere meldingsstatistikk gjennom forvaltningsløsningen, og sendes videre til print-leverandør. ^[a-zA-Z0-9\\-\\.øæåØÆÅ]{0,20}$   Printkonfigurasjon Konfigurasjon for hvordan dokumentet skal printes, dobbeltsidig, fargeprint, A-Post, B-Post   KunDigitalLevering Vi leverer kun digitalt, ingen print og postlegging. Hvis dokumentet ikke kan leveres digital blir det ikke levert. Hvis KunDigitalLevering er valgt må fødselsnr eller orgnr være utfylt.   Liste med pdf filer Rekkefølgen er rekkefølgen de kommer i brevet. Total filstørrelse inntil 250MB er støttet.   Filnavn Filnavn er for intern bruk, må være unikt i en forsendelse.   Mimetype Mimetype må være application/pdf hvis den skal til print. Dersom \"Kun digital\" levering er valgt kan vi ta imot annet. Kun application/pdf hvis den skal til print   Data Fildata   GiroarkSider Liste med sidetall som skal printes på gult giroark. Digital versjon vil få grått giroark. Første side er 1.    retrieveForsendelseStatus Henter status for en forsendelse. En forsendelse kan ha en av tilstandene beskrevet under:\nTilstander (normalløp): Mottatt Et kall mottatt på forsendelses-service. En id blir tildelt forsendelsen. Akseptert Meldingen er validert og forsendelsesfil dannet. Varslet Et varsel om forsendelsen er sendt til varslingstjenesten. Lest En forsendelse er lest når hele forsendelsesfilen er lastet ned av mottaker. Sendt print Forsendelsen er blitt overført til printleverandør. Sendt digitalt Forsendelsen er motatt og sendt slik den skal. Ikke blitt lest enda. Forsendelser med denne status vil kun leveres digitalt, og vil aldri gå til print. Printet Printkvittering mottatt fra printleverandør eller manuell print bekreftet(via webgrensesnitt).  Tilstander (unntak): Avvist Forsendelsen er ikke validert pga. manglende/korrupt metadata, eller fordi forsendelsesfil ikke kunne dannes. Manuelt håndtert Forsendelsen er manuelt avsluttet, f.eks. pga en feilsituasjon.  retrieveForsendelseHistorikk Henter historikk for en forsendelse. Returnerer en liste med beskrivelse av hva som har skjedd og når det inntraff. Listen tilsvarer ekspederingsloggen i forsendelsesoversikten.\n  Felt Beskrivelse Validering     Forsendelsesid Identifikator som unikt identifiserer en forsendelse. Må være utfylt    setForsendelseLestAvEksterntSystem Setter status for en forsendelse til lest basert på forsendelsesId. Benyttes for å sette status til lest når dokumentet har blitt lest utenfor vårt system.\n  Felt Beskrivelse Validering     Forsendelsesid Identifikator som unikt identifiserer en forsendelse. Må være utfylt   Fødselsnummer Fødselsnummer til brukeren som har lest forsendelsen. Ikke tomt og 11 siffer langt   navnPaEksterntSystem Navn til det eksterne systemet som håndterte lesingen av forsendelsen.   datoLest Dato og tidpunkt som forsendelsen ble lest på. Hvis blank settes den til nåtid.    "
},
{
	"uri": "/svarut/integrasjon/forsendelseservicev3/",
	"title": "ForsendelseServiceV3",
	"tags": [],
	"description": "",
	"content": " Her beskrives funksjonalitet for ForsendelseServiceV3\nWSDL Tilgang For å benytte Web servicen må en bruke HTTP Basic autentication med brukernavn(avsendernavn) og service-passord. Avsender opprettes av KS-SvarUt administrator/organisasjons administrator og service-passordet genereres av avsender ansvarlig via konfigurasjon-siden.\nTjenester Forsendelsesservicet tilbyr følgende funksjonalitet:\nsendForsendelse Hovedtjeneste som sender inn forsendelse til ekspedering av KS-SvarUt. Følgende metadata inkluderes:\n  Felt Beskrivelse Validering     Mottaker PrivatPerson eller Organisasjon, full adresse må være utfylt, for sending til Altinn må orgnr/fødselsnr være utfylt. Støtte for utenlandske adresser.   Navn Navn på mottaker. Må være utfylt   Adresse1 Adresselinje1   Adresse2 Adresselinje2   Adresse3 Adresselinje3   Postnr Postnummer Må være utfylt   Poststed Poststed Må være utfylt   Land Land   Fødselsnr Hvis Privat, må være utfylt for å kunne levere til altinn.   Orgnr Hvis organisasjon, må være utfylt for å kunne levere til altinn.   Avgivende system Identifikator som identifiserer systemet som gjør web-service kallet, vil blant annet kunne benyttes for statistikk og feilsøking. Bruk følgende for sak/arkivsystemene: Ephorte, ESA, 360 og Websak. For andre fagsystemer avtales dette med KS KommIT på [svarut@ks.no](mailto:svarut@ks.no). Obligatorisk felt.   Tittel Tittel på forsendelsen. Tittel blir vist i tittelfeltet på melding til Altinn, og i listen over innkommende meldinger. Må være utfylt   Konteringskode Kode som beskriver faktureringskonto for forsendelsen. Kan benyttes for å gruppere meldingsstatistikk gjennom forvaltningsløsningen, og sendes videre til print-leverandør. ^[a-zA-Z0-9\\-\\.øæåØÆÅ]{0,20}$   Printkonfigurasjon Konfigurasjon for hvordan dokumentet skal printes, dobbeltsidig, fargeprint, A-Post, B-Post   KunDigitalLevering Vi leverer kun digitalt, ingen print og postlegging. Hvis dokumentet ikke kan leveres digital blir det ikke levert. Hvis KunDigitalLevering er valgt må fødselsnr eller orgnr være utfylt.   Liste med pdf filer Rekkefølgen er rekkefølgen de kommer i brevet. Total filstørrelse inntil 250MB er støttet.   Filnavn Filnavn er for intern bruk, må være unikt i en forsendelse.   Mimetype Mimetype må være application/pdf hvis den skal til print. Dersom \"Kun digital\" levering er valgt kan vi ta imot annet. Kun application/pdf hvis den skal til print   Data Fildata   GiroarkSider Liste med sidetall som skal printes på gult giroark. Digital versjon vil få grått giroark. Første side er 1.   Liste med Lenker Rekkefølgen er samme som de vil komme i brevet. Kan være tom.   Url lenke Selve lenken til dokument/nettside Må være utfylt og være i gyldig lenke format, altså (http/https/ftp)://(nettside).(com/no/ etc)   Url tekst Mimetype på være application/pdf. Kun det som blir støttet nå. Må være utfylt   Ledetekst Teksten som kommer før lenken i brevet   Metadata fra avleverende system Noark5 metadata fra avleverende system, foreløbig oversikt   Saksekvensnummer   Saksaar   Journalaar   Journalseksvensnummer   Journalpostnummer   Journalposttype   Journalstatus   Journaldato   DokumentetsDato   Tittel   Saksbehandler   EkstraMetadata Liste med key,value for forskjellige behov. Keys må være unique.   Metadata i mottakende system Noark5 metadata som stemmer med mottakende system. Kan brukes til å legge dokumentet på rett sak. Samme som over.    retrieveForsendelseStatus Henter status for en forsendelse. En forsendelse kan ha en av tilstandene beskrevet under:\nTilstander (normalløp): Mottatt Et kall mottatt på forsendelses-service. En id blir tildelt forsendelsen. Akseptert Meldingen er validert og forsendelsesfil dannet. Varslet Et varsel om forsendelsen er sendt til varslingstjenesten. Lest En forsendelse er lest når hele forsendelsesfilen er lastet ned av mottaker. Sendt print Forsendelsen er blitt overført til printleverandør. Sendt digitalt Forsendelsen er motatt og sendt slik den skal. Ikke blitt lest enda. Forsendelser med denne status vil kun leveres digitalt, og vil aldri gå til print. Sendt SDP Forsendelsen er motatt og sendt til Sikker digital postkasse. Levert SDP Forsendelsen er motatt og sendt til Sikker digital postkasse. Vi har motatt Leveringskvittering fra SDP. Forsendelsen skal da være tilgjengelig for mottaker. Printet Printkvittering mottatt fra printleverandør eller manuell print bekreftet(via webgrensesnitt).  Tilstander (unntak): Avvist Forsendelsen er ikke validert pga. manglende/korrupt metadata, eller fordi forsendelsesfil ikke kunne dannes. Manuelt håndtert Forsendelsen er manuelt avsluttet, f.eks. pga en feilsituasjon.  retrieveForsendelseHistorikk Henter historikk for en forsendelse. Returnerer en liste med beskrivelse av hva som har skjedd og når det inntraff. Listen tilsvarer ekspederingsloggen i forsendelsesoversikten.\n  Felt Beskrivelse Validering     Forsendelsesid Identifikator som unikt identifiserer en forsendelse. Må være utfylt    setForsendelseLestAvEksterntSystem Setter status for en forsendelse til lest basert på forsendelsesId. Benyttes for å sette status til lest når dokumentet har blitt lest utenfor vårt system.\n  Felt Beskrivelse Validering     Forsendelsesid Identifikator som unikt identifiserer en forsendelse. Må være utfylt   Fødselsnummer Fødselsnummer til brukeren som har lest forsendelsen. Ikke tomt og 11 siffer langt   navnPaEksterntSystem Navn til det eksterne systemet som håndterte lesingen av forsendelsen.   datoLest Dato og tidpunkt som forsendelsen ble lest på. Hvis blank settes den til nåtid.    "
},
{
	"uri": "/svarut/integrasjon/forsendelseservicev4/",
	"title": "ForsendelseServiceV4",
	"tags": [],
	"description": "",
	"content": " Her beskrives funksjonalitet for ForsendelseServiceV4\nWSDL Tilgang For å benytte webservicen må en bruke HTTP Basic autentication med brukernavn(avsendernavn) og service-passord. Avsender opprettes av KS-SvarUt administrator/organisasjons administrator og service-passordet genereres av avsender ansvarlig via konfigurasjon-siden.\nTjenester Forsendelsesservicet tilbyr følgende funksjonalitet:\nsendForsendelse Hovedtjeneste som sender inn forsendelse til ekspedering av KS-SvarUt. Følgende metadata inkluderes:\n  Felt Beskrivelse Validering     Mottaker PrivatPerson eller Organisasjon, full adresse må være utfylt, for sending til Altinn må orgnr/fødselsnr være utfylt. Støtte for utenlandske adresser.   Navn Navn på mottaker. Må være utfylt   Adresse1 Adresselinje1   Adresse2 Adresselinje2   Adresse3 Adresselinje3   Postnr Postnummer Må være utfylt   Poststed Poststed Må være utfylt   Land Land   Fødselsnr Hvis Privat, må være utfylt for å kunne levere til altinn.   Orgnr Hvis organisasjon, må være utfylt for å kunne levere til altinn.   Avgivende system Identifikator som identifiserer systemet som gjør web-service kallet, vil blant annet kunne benyttes for statistikk og feilsøking. Bruk følgende for sak/arkivsystemene: Doculive, Ephorte, ESA, 360 og Websak. For andre fagsystemer avtales dette med KS KommIT på [svarut@ks.no](mailto:svarut@ks.no). Obligatorisk felt.   Tittel Tittel på forsendelsen. Tittel blir vist i tittelfeltet på melding til Altinn, og i listen over innkommende meldinger. Må være utfylt   Konteringskode Kode som beskriver faktureringskonto for forsendelsen. Kan benyttes for å gruppere meldingsstatistikk gjennom forvaltningsløsningen, og sendes videre til print-leverandør. ^[a-zA-Z0-9\\-\\.øæåØÆÅ]{0,20}$   Printkonfigurasjon Konfigurasjon for hvordan dokumentet skal printes, dobbeltsidig, fargeprint, A-Post, B-Post   KunDigitalLevering Vi leverer kun digitalt, ingen print og postlegging. Hvis dokumentet ikke kan leveres digital blir det ikke levert. Hvis KunDigitalLevering er valgt må fødselsnr eller orgnr være utfylt.   kryptert Settes til true dersom fil(ene) som sendes er kryptert. Dersom kryptering ikke er brukt må denne være satt til false. Se kodeeksempler for eksempel på kryptering. Det må være kryptert med CMS med svarut sin publickey. [Den offentlige nøkkelen](/forsendelse/publickey/hent)   krevNiva4Innlogging Forsendelsen krever nivå 4-innlogging for å kunne lastes ned. Disse forsendelsene må være kryptert.   Liste med pdf filer Rekkefølgen er rekkefølgen de kommer i brevet. Total filstørrelse inntil 250MB er støttet.   Filnavn Filnavn er for intern bruk, må være unikt i en forsendelse.   Mimetype Mimetype må være application/pdf hvis den skal til print. Dersom \"Kun digital\" levering er valgt kan vi ta imot annet. Kun application/pdf hvis den skal til print   Data Fildata   GiroarkSider Liste med sidetall som skal printes på gult giroark. Digital versjon vil få grått giroark. Første side er 1.   Liste med Lenker Rekkefølgen er samme som de vil komme i brevet. Kan være tom.   Url lenke Selve lenken til dokument/nettside Må være utfylt og være i gyldig lenke format, altså (http/https/ftp)://(nettside).(com/no/ etc)   Url tekst Mimetype på være application/pdf. Kun det som blir støttet nå. Må være utfylt   Ledetekst Teksten som kommer før lenken i brevet   Metadata fra avleverende system Noark5 metadata fra avleverende system, foreløbig oversikt   Saksekvensnummer   Saksaar   Journalaar   Journalseksvensnummer   Journalpostnummer   Journalposttype   Journalstatus   Journaldato   DokumentetsDato   Tittel   Saksbehandler   EkstraMetadata Liste med key,value for forskjellige behov. Keys må være unique.   Metadata i mottakende system Noark5 metadata som stemmer med mottakende system. Kan brukes til å legge dokumentet på rett sak. Samme som over.   Saksekvensnummer   Saksaar   Journalposttype   Journalstatus   DokumentetsDato   Tittel    retrieveForsendelseStatus Henter status for en forsendelse. En forsendelse kan ha en av tilstandene beskrevet under:\nTilstander (normalløp): Mottatt Et kall mottatt på forsendelses-service. En id blir tildelt forsendelsen. Akseptert Meldingen er validert og forsendelsesfil dannet. Varslet Et varsel om forsendelsen er sendt til varslingstjenesten. Lest En forsendelse er lest når hele forsendelsesfilen er lastet ned av mottaker. Sendt print Forsendelsen er blitt overført til printleverandør. Sendt digitalt Forsendelsen er motatt og sendt slik den skal. Ikke blitt lest enda. Forsendelser med denne status vil kun leveres digitalt, og vil aldri gå til print. Sendt SDP Forsendelsen er motatt og sendt til Sikker digital postkasse. Levert SDP Forsendelsen er motatt og sendt til Sikker digital postkasse. Vi har motatt Leveringskvittering fra SDP. Forsendelsen skal da være tilgjengelig for mottaker. Printet Printkvittering mottatt fra printleverandør eller manuell print bekreftet(via webgrensesnitt).  Tilstander (unntak): Avvist Forsendelsen er ikke validert pga. manglende/korrupt metadata, eller fordi forsendelsesfil ikke kunne dannes. Manuelt håndtert Forsendelsen er manuelt avsluttet, f.eks. pga en feilsituasjon.  retrieveForsendelseStatuser Henter status for flere forsendelseer. Returnerer liste med status, når status oppstod og forsendelseid.\nforsendelseid Id på forsendelsen. sisteStatusEndring Når statusen endret seg sist ForsendelseStatus Siste forsendelse status  retrieveForsendelseHistorikk Henter historikk for en forsendelse. Returnerer en liste med beskrivelse av hva som har skjedd og når det inntraff. Listen tilsvarer ekspederingsloggen i forsendelsesoversikten.\n  Felt Beskrivelse Validering     Forsendelsesid Identifikator som unikt identifiserer en forsendelse. Må være utfylt    setForsendelseLestAvEksterntSystem Setter status for en forsendelse til lest basert på forsendelsesId. Benyttes for å sette status til lest når dokumentet har blitt lest utenfor vårt system.\n  Felt Beskrivelse Validering     Forsendelsesid Identifikator som unikt identifiserer en forsendelse. Må være utfylt   Fødselsnummer Fødselsnummer til brukeren som har lest forsendelsen. Ikke tomt og 11 siffer langt   navnPaEksterntSystem Navn til det eksterne systemet som håndterte lesingen av forsendelsen.   datoLest Dato og tidpunkt som forsendelsen ble lest på. Hvis blank settes den til nåtid.    "
},
{
	"uri": "/svarut/integrasjon/forsendelseservicev5/",
	"title": "ForsendelseServiceV5",
	"tags": [],
	"description": "",
	"content": " Her beskrives funksjonalitet for ForsendelseServiceV5\nWSDL Tilgang For å benytte webservicen må en bruke HTTP Basic autentication med brukernavn(avsendernavn) og service-passord. Avsender opprettes av KS-SvarUt administrator/organisasjons administrator og service-passordet genereres av avsender ansvarlig via konfigurasjon-siden.\nTjenester Forsendelsesservicet tilbyr følgende funksjonalitet:\nsendForsendelse Hovedtjeneste som sender inn forsendelse til ekspedering av KS-SvarUt. Følgende metadata inkluderes:\n  Felt Beskrivelse Validering     Mottaker PrivatPerson eller Organisasjon, full adresse må være utfylt, for sending til Altinn må orgnr/fødselsnr være utfylt. Støtte for utenlandske adresser.   Navn Navn på mottaker. Må være utfylt   Adresse1 Adresselinje1   Adresse2 Adresselinje2   Adresse3 Adresselinje3   Postnr Postnummer Må være utfylt, 4 tall for norske adresser   Poststed Poststed Må være utfylt   Land Land   Fødselsnr Hvis Privat, må være utfylt for å kunne levere til altinn.   Orgnr Hvis organisasjon, må være utfylt for å kunne levere til altinn.   Avgivende system Identifikator som identifiserer systemet som gjør web-service kallet, vil blant annet kunne benyttes for statistikk og feilsøking. Bruk følgende for sak/arkivsystemene: Doculive, Ephorte, ESA, 360 og Websak. For andre fagsystemer avtales dette med KS KommIT på [svarut@ks.no](mailto:svarut@ks.no). Obligatorisk felt.   DokumentType - heter forsendelseType i versjon 6 Fritekst felt for å kunne identifisere forsendelse type. Dette feltet blir ikke brukt til noe i dag, men vil bli søkbart og tilgengelig i SvarInn.    eksternref Ekstern id for forsendelsen, ingen sjekk på innhold i SvarUt. Det vil komme mulighet for å hente ut forsendelser i søk og via api på eksternref.    Tittel Tittel på forsendelsen. Tittel blir vist i tittelfeltet på melding til Altinn, og i listen over innkommende meldinger. Må være utfylt   Konteringskode Kode som beskriver faktureringskonto for forsendelsen. Kan benyttes for å gruppere meldingsstatistikk gjennom forvaltningsløsningen, og sendes videre til print-leverandør. ^[a-zA-Z0-9\\-\\.øæåØÆÅ]{0,20}$   Printkonfigurasjon Konfigurasjon for hvordan dokumentet skal printes, dobbeltsidig, fargeprint, A-Post, B-Post   KunDigitalLevering Vi leverer kun digitalt, ingen print og postlegging. Hvis dokumentet ikke kan leveres digital blir det ikke levert. Hvis KunDigitalLevering er valgt må fødselsnr eller orgnr være utfylt.   kryptert Settes til true dersom fil(ene) som sendes er kryptert. Dersom kryptering ikke er brukt må denne være satt til false. Se kodeeksempler for eksempel på kryptering. Det må være kryptert med CMS med svarut sin publickey. [Den offentlige nøkkelen](/forsendelse/publickey/hent)   krevNiva4Innlogging Forsendelsen krever nivå 4-innlogging for å kunne lastes ned. Disse forsendelsene må være kryptert.   svarPaForsendelse Forsendelseid til forsendelse dette er et svar på.   Liste med pdf filer Rekkefølgen er rekkefølgen de kommer i brevet. Total filstørrelse inntil 250MB er støttet.   Filnavn Filnavn er for intern bruk, må være unikt i en forsendelse.   Mimetype Mimetype må være application/pdf hvis den skal til print. Dersom \"Kun digital\" levering er valgt kan vi ta imot annet. Kun application/pdf hvis den skal til print   Data Fildata   GiroarkSider Liste med sidetall som skal printes på gult giroark. Digital versjon vil få grått giroark. Første side er 1.   Liste med Lenker Rekkefølgen er samme som de vil komme i brevet. Kan være tom.   Url lenke Selve lenken til dokument/nettside Må være utfylt og være i gyldig lenke format, altså (http/https/ftp)://(nettside).(com/no/ etc)   Url tekst Mimetype på være application/pdf. Kun det som blir støttet nå. Må være utfylt   Ledetekst Teksten som kommer før lenken i brevet   Metadata fra avleverende system Noark5 metadata fra avleverende system, foreløbig oversikt   Saksekvensnummer   Saksaar   Journalaar   Journalseksvensnummer   Journalpostnummer   Journalposttype   Journalstatus   Journaldato   DokumentetsDato   Tittel   Saksbehandler   EkstraMetadata Liste med key,value for forskjellige behov. Keys må være unique.   Metadata i mottakende system Noark5 metadata som stemmer med mottakende system. Kan brukes til å legge dokumentet på rett sak. Samme som over.   Saksekvensnummer   Saksaar   Journalposttype   Journalstatus   DokumentetsDato   Tittel   SvarSendesTil PrivatPerson eller Organisasjon, full adresse må være utfylt. Dette er mottaker som en skal sende til om en vil svare på forsendelsen. Valgfritt å fylle ut. Dette blir brukt som avsender adresse i digital kommunikasjon og på print i posten. Vil overstyre avsender adresse i konfigurasjonen.   Navn Navn på mottaker. Må være utfylt   Adresse1 Adresselinje1   Adresse2 Adresselinje2   Adresse3 Adresselinje3   Postnr Postnummer Må være utfylt   Poststed Poststed Må være utfylt   Land Land   Fødselsnr Må være utfylt om en skal svare til privatperson.   Orgnr Må være utfylt om en skal svare til en organisasjon.    retrieveForsendelseStatus Henter status for en forsendelse. En forsendelse kan ha en av tilstandene beskrevet under:\nTilstander (normalløp): Mottatt Et kall mottatt på forsendelses-service. En id blir tildelt forsendelsen. Akseptert Meldingen er validert og forsendelsesfil dannet. Klar for mottak Venter på at forsendelse skal bli lastet ned av mottaker. Varslet Et varsel om forsendelsen er sendt til varslingstjenesten. Lest En forsendelse er lest når hele forsendelsesfilen er lastet ned av mottaker. Sendt print Forsendelsen er blitt overført til printleverandør. Sendt digitalt Forsendelsen er motatt og sendt slik den skal. Ikke blitt lest enda. Forsendelser med denne status vil kun leveres digitalt, og vil aldri gå til print. Sendt SDP Forsendelsen er motatt og sendt til Sikker digital postkasse. Levert SDP Forsendelsen er motatt og sendt til Sikker digital postkasse. Vi har motatt Leveringskvittering fra SDP. Forsendelsen skal da være tilgjengelig for mottaker. Printet Printkvittering mottatt fra printleverandør eller manuell print bekreftet(via webgrensesnitt).  Tilstander (unntak): Avvist Forsendelsen er ikke validert pga. manglende/korrupt metadata, eller fordi forsendelsesfil ikke kunne dannes. Manuelt håndtert Forsendelsen er manuelt avsluttet, f.eks. pga en feilsituasjon.  retrieveForsendelseStatuser Henter status for flere forsendelseer. Returnerer liste med status, når status oppstod og forsendelseid.\nforsendelseid Id på forsendelsen. sisteStatusEndring Når statusen endret seg sist ForsendelseStatus Siste forsendelse status  retrieveForsendelseHistorikk Henter historikk for en forsendelse. Returnerer en liste med beskrivelse av hva som har skjedd og når det inntraff. Listen tilsvarer ekspederingsloggen i forsendelsesoversikten.\n  Felt Beskrivelse Validering     Forsendelsesid Identifikator som unikt identifiserer en forsendelse. Må være utfylt    setForsendelseLestAvEksterntSystem Setter status for en forsendelse til lest basert på forsendelsesId. Benyttes for å sette status til lest når dokumentet har blitt lest utenfor vårt system.\n  Felt Beskrivelse Validering     Forsendelsesid Identifikator som unikt identifiserer en forsendelse. Må være utfylt   Fødselsnummer Fødselsnummer til brukeren som har lest forsendelsen. Ikke tomt og 11 siffer langt   navnPaEksterntSystem Navn til det eksterne systemet som håndterte lesingen av forsendelsen.   datoLest Dato og tidpunkt som forsendelsen ble lest på. Hvis blank settes den til nåtid.    "
},
{
	"uri": "/svarut/integrasjon/forsendelseservicev6/",
	"title": "ForsendelseServiceV6",
	"tags": [],
	"description": "",
	"content": " Tilgang For å benytte web-tjenesten må en bruke HTTP Basic autentication med brukernavn(avsendernavn) og service-passord. Avsender opprettes av KS-SvarUt administrator/organisasjons administrator. Service-passordet genereres av avsender-ansvarlig via konfigurasjon-siden.\nTjenester Forsendelsesservicet tilbyr følgende funksjonalitet:\n   Operasjon Inndata Utdata Kort beskrivelse     sendForsendelse Forsendelse forsendelsesid Hovedtjeneste som sender inn forsendelse til ekspedering av KS-SvarUt.   retrieveForsendelseStatus forsendelsesid ForsendelseStatus Henter status for en forsendelse.   retrieveForsendelseStatuser List\u0026lt;forsendelsesid\u0026gt; List\u0026lt;StatusResult\u0026gt; Henter status for flere forsendelseer. Returnerer liste med status, når status oppstod og forsendelseid.   retrieveForsendelseHistorikk forsendelsesid ForsendelseHistorikk Henter historikk for en forsendelse, tilsvarer ekspederingsloggen i forsendelsesoversikten.   retrieveForsendelseIdByEksternRef eksternref List\u0026lt;forsendelsesid\u0026gt; Henter liste med forsendelseider som har denne eksternRef.   setForsendelseLestAvEksterntSystem forsendelsesid, lestAvFodselsnummer, navnPaEksterntSystem, datoLest (Ingen retur) Benyttes for å sette status til lest når dokumentet har blitt lest utenfor vårt system.    Definisjonsfil (WSDL) for tjenesten finnes her https://svarut.ks.no/tjenester/forsendelseservice/ForsendelsesServiceV6?wsdl\nsendForsendelse SendForsendelse for ekspedering i SvarUt. Hvis du får HTTP 200 ok er forsendelsen er mottat og akseptert av SvarUt. Dette betyr at vi da vil garantere levering til mottaker (kunDigital har ikke garantert levering). Hvis det skulle oppstå problemer vil avsender bli kontaktet. Dette betyr at jobben til avleverende system nå er ferdig.\nFeilmeldinger på tjeneste skal kunne presenteres for bruker. Det kan komme tekniske feilmeldinger, men da er disse greit å vise hvis de skal kontakte SvarUt for hjelp.\nFølgende metadata inkluderes:\n   Felt Beskrivelse Validering     Mottaker PrivatPerson eller Organisasjon, full adresse må være utfylt, for sending til Altinn må orgnr/fødselsnr være utfylt. Støtte for utenlandske adresser.   Navn Navn på mottaker. Må være utfylt   Adresse1 Adresselinje1   Adresse2 Adresselinje2   Adresse3 Adresselinje3   Postnr Postnummer Må være utfylt, 4 tall for norske adresser   Poststed Poststed Må være utfylt   Land Land   Fødselsnr Hvis Privat, må være utfylt for å kunne levere til altinn.   Orgnr Hvis organisasjon, må være utfylt for å kunne levere til altinn.   Avgivende system Identifikator som identifiserer systemet som gjør web-service kallet, vil blant annet kunne benyttes for statistikk og feilsøking. Bruk følgende for sak/arkivsystemene: Doculive, Ephorte, ESA, 360 og Websak. For andre fagsystemer avtales dette med KS KommIT på [svarut@ks.no](mailto:svarut@ks.no). Obligatorisk felt.   dokumentType - blir endret til forsendelseType i nyere versjoner Fritekst felt for å kunne identifisere forsendelse type. Dette feltet blir ikke brukt til noe i dag, men vil bli søkbart og tilgengelig i SvarInn.    eksternref Ekstern id for forsendelsen, ingen sjekk på innhold i SvarUt. Det vil komme mulighet for å hente ut forsendelser i søk og via api på eksternref.    Tittel Tittel på forsendelsen. Tittel blir vist i tittelfeltet på melding til Altinn, og i listen over innkommende meldinger. Må være utfylt   Konteringskode Kode som beskriver faktureringskonto for forsendelsen. Kan benyttes for å gruppere meldingsstatistikk gjennom forvaltningsløsningen, og sendes videre til print-leverandør. ^[a-zA-Z0-9\\-\\.øæåØÆÅ]{0,20}$   Printkonfigurasjon Konfigurasjon for hvordan dokumentet skal printes, dobbeltsidig, fargeprint, A-Post, B-Post   KunDigitalLevering Vi leverer kun digitalt, ingen print og postlegging. Hvis dokumentet ikke kan leveres digital blir det ikke levert. Hvis KunDigitalLevering er valgt må fødselsnr eller orgnr være utfylt.   kryptert Settes til true dersom fil(ene) som sendes er kryptert. Dersom kryptering ikke er brukt må denne være satt til false. Se kodeeksempler for eksempel på kryptering. Det må være kryptert med CMS med svarut sin publickey. [Den offentlige nøkkelen](/forsendelse/publickey/hent)   krevNiva4Innlogging Forsendelsen krever nivå 4-innlogging for å kunne lastes ned. Disse forsendelsene må være kryptert.   svarPaForsendelse Forsendelseid til forsendelse dette er et svar på.   svarPaForsendelseLink Mottaker kan svare på forsendelse. Orgnr i svar sendes til må matche et orgnr i edialog mottakere.   Liste med filer Rekkefølgen er rekkefølgen de kommer i brevet. Total filstørrelse inntil 350MB er støttet når det skal printes. Ellers er det ikke begrensning.   Filnavn Filnavn er for intern bruk, må være unikt i en forsendelse. Max 226 tegn. Må ikke inneholde mappe, kun filnavn. (ingen / eller \\) Disse tegnene er også ugyldige \" ? * | : De har andre funksjoner i windows og kan ikke brukes i filnavn på windows.   Mimetype Mimetype på være application/pdf hvis den skal til print. Kun digital levering er valgt kan vi ta imot annet. Kun application/pdf hvis den skal til print   Data Fildata   GiroarkSider Liste med sidetall som skal printes på gult giroark. Digital versjon vil få grått giroark. Første side er 1.   Liste med Lenker Rekkefølgen er samme som de vil komme i brevet. Kan være tom.   Url lenke Selve lenken til dokument/nettside Må være utfylt og være i gyldig lenke format, altså (http/https/ftp)://(nettside).(com/no/ etc)   Url tekst  Må være utfylt   Ledetekst Teksten som kommer før lenken i brevet   Metadata fra avleverende system Noark5 metadata fra avleverende system, foreløbig oversikt   Saksekvensnummer   Saksaar   Journalaar   Journalseksvensnummer   Journalpostnummer   Journalposttype   Journalstatus   Journaldato   DokumentetsDato   Tittel   Saksbehandler   EkstraMetadata Liste med key,value for forskjellige behov. Keys må være unique.   Metadata i mottakende system Noark5 metadata som stemmer med mottakende system. Kan brukes til å legge dokumentet på rett sak. Samme som over.   Saksekvensnummer   Saksaar   Journalposttype   Journalstatus   DokumentetsDato   Tittel   SvarSendesTil PrivatPerson eller Organisasjon, full adresse må være utfylt. Dette er mottaker som en skal sende til om en vil svare på forsendelsen. Valgfritt å fylle ut. Dette blir brukt som avsender adresse i digital kommunikasjon og på print i posten. Vil overstyre avsender adresse i konfigurasjonen.   Navn Navn på mottaker. Må være utfylt   Adresse1 Adresselinje1   Adresse2 Adresselinje2   Adresse3 Adresselinje3   Postnr Postnummer Må være utfylt   Poststed Poststed Må være utfylt   Land Land   Fødselsnr Må være utfylt om en skal svare til privatperson.   Orgnr Må være utfylt om en skal svare til en organisasjon.    retrieveForsendelseStatus Henter status for en forsendelse. Denne bør bruker når det er behov for å vise status. Tenkt brukt f.eks om saksbehandler lurer på hva som er status på forsendelsen. Status kan endre seg på kort varsel, vi anbefaler derfor å ikke mellomlagre disse verdiene i eget system, men heller hente de når de skal vises.\nEn forsendelse kan ha en av tilstandene beskrevet under:\nTilstander (normalløp): Mottatt Et kall mottatt på forsendelses-service. En id blir tildelt forsendelsen. Akseptert Meldingen er validert og forsendelsesfil dannet. Klar for mottak Venter på at forsendelse skal bli lastet ned av mottaker. Varslet Et varsel om forsendelsen er sendt til varslingstjenesten. Lest En forsendelse er lest når hele forsendelsesfilen er lastet ned av mottaker. Sendt print Forsendelsen er blitt overført til printleverandør. Sendt digitalt Forsendelsen er motatt og sendt slik den skal. Ikke blitt lest enda. Forsendelser med denne status vil kun leveres digitalt, og vil aldri gå til print. Sendt SDP Forsendelsen er motatt og sendt til Sikker digital postkasse. Levert SDP Forsendelsen er motatt og sendt til Sikker digital postkasse. Vi har motatt Leveringskvittering fra SDP. Forsendelsen skal da være tilgjengelig for mottaker. Printet Printkvittering mottatt fra printleverandør eller manuell print bekreftet(via webgrensesnitt).  Tilstander (unntak): Avvist Forsendelsen er ikke validert pga. manglende/korrupt metadata, eller fordi forsendelsesfil ikke kunne dannes. Manuelt håndtert Forsendelsen er manuelt avsluttet, f.eks. pga en feilsituasjon.  retrieveForsendelseStatuser Henter status for flere forsendelseer. Samme som retrieveForsendelseStatus bare for flere forsendelser i samme kall. Returnerer liste med status, når status oppstod og forsendelseid.\nforsendelseid Id på forsendelsen. sisteStatusEndring Når statusen endret seg sist ForsendelseStatus Siste forsendelse status  retrieveForsendelseHistorikk Henter historikk for en forsendelse. Returnerer en liste med beskrivelse av hva som har skjedd og når det inntraff. Listen tilsvarer ekspederingsloggen i forsendelsesoversikten. Tenkt brukt hvis saksbehandler eller kundestøtte trenger å vite detaljene ved en forsendelse.\n  Felt Beskrivelse Validering     Forsendelsesid Identifikator som unikt identifiserer en forsendelse. Må være utfylt    setForsendelseLestAvEksterntSystem Setter status for en forsendelse til lest basert på forsendelsesId. Benyttes for å sette status til lest når dokumentet har blitt lest utenfor vårt system.\n  Felt Beskrivelse Validering     Forsendelsesid Identifikator som unikt identifiserer en forsendelse. Må være utfylt   Fødselsnummer Fødselsnummer til brukeren som har lest forsendelsen. Ikke tomt og 11 siffer langt   navnPaEksterntSystem Navn til det eksterne systemet som håndterte lesingen av forsendelsen.   datoLest Dato og tidpunkt som forsendelsen ble lest på. Hvis blank settes den til nåtid.    retrieveForsendelseIdByEksternRef Henter liste med forsendelseider som har denne eksternRef. Forsendelsene må være sendt av avsender som er innlogget.\n  Felt Beskrivelse Validering     EksternRef EksternRef, id som identifiserer forsendelsen hos avsender. Må være utfylt    "
},
{
	"uri": "/svarut/integrasjon/forsendelseservicev7/",
	"title": "ForsendelseServiceV7",
	"tags": [],
	"description": "",
	"content": " Tilgang For å benytte web-tjenesten må en bruke HTTP Basic autentication med brukernavn(avsendernavn) og service-passord. Avsender opprettes av KS-SvarUt administrator/organisasjons administrator. Service-passordet genereres av avsender-ansvarlig via konfigurasjon-siden.\nTjenester Forsendelsesservicet tilbyr følgende funksjonalitet:\n   Operasjon Inndata Utdata Kort beskrivelse     sendForsendelse Forsendelse forsendelsesid Hovedtjeneste som sender inn forsendelse til ekspedering av KS-SvarUt.   retrieveForsendelseStatus forsendelsesid ForsendelseStatus Henter status for en forsendelse.   retrieveForsendelseStatuser List\u0026lt;forsendelsesid\u0026gt; List\u0026lt;StatusResult\u0026gt; Henter status for flere forsendelseer. Returnerer liste med status, når status oppstod og forsendelseid.   retrieveForsendelseHistorikk forsendelsesid ForsendelseHistorikk Henter historikk for en forsendelse, tilsvarer ekspederingsloggen i forsendelsesoversikten.   retrieveForsendelseIdByEksternRef eksternref List\u0026lt;forsendelsesid\u0026gt; Henter liste med forsendelseider som har denne eksternRef.   setForsendelseLestAvEksterntSystem forsendelsesid, lestAvFodselsnummer, navnPaEksterntSystem, datoLest (Ingen retur) Benyttes for å sette status til lest når dokumentet har blitt lest utenfor vårt system.    Definisjonsfil (WSDL) for tjenesten finnes her https://svarut.ks.no/tjenester/forsendelseservice/ForsendelsesServiceV7?wsdl\nsendForsendelse SendForsendelse for ekspedering i SvarUt. Hvis du får HTTP 200 ok er forsendelsen er mottat og akseptert av SvarUt. Dette betyr at vi da vil garantere levering til mottaker (kunDigital har ikke garantert levering). Hvis det skulle oppstå problemer vil avsender bli kontaktet. Dette betyr at jobben til avleverende system nå er ferdig.\nFeilmeldinger på tjeneste skal kunne presenteres for bruker. Det kan komme tekniske feilmeldinger, men da er disse greit å vise hvis de skal kontakte SvarUt for hjelp.\nFølgende metadata inkluderes:\n   Felt Beskrivelse Validering     Mottaker PrivatPerson eller Organisasjon, full adresse må være utfylt, for sending til Altinn må orgnr/fødselsnr være utfylt. Støtte for utenlandske adresser. Ved signeringsoppdrag må dette feltet være av type PrivatPerson.   Navn Navn på mottaker. Må være utfylt   Adresse1 Adresselinje1   Adresse2 Adresselinje2   Adresse3 Adresselinje3   Postnr Postnummer Må være utfylt, 4 tall for norske adresser   Poststed Poststed Må være utfylt   Land Land   Fødselsnr Hvis Privat, må være utfylt for å kunne levere til altinn.  Ved signeringsoppdrag må dette feltet være utfylt.   Orgnr Hvis organisasjon, må være utfylt for å kunne levere til altinn.   Avgivende system Identifikator som identifiserer systemet som gjør web-service kallet, vil blant annet kunne benyttes for statistikk og feilsøking. Bruk følgende for sak/arkivsystemene: Doculive, Ephorte, ESA, 360 og Websak. For andre fagsystemer avtales dette med KS KommIT på [svarut@ks.no](mailto:svarut@ks.no). Obligatorisk felt.   forsendelseType Fritekst felt for å kunne identifisere forsendelse type.   eksternref Ekstern id for forsendelsen, ingen sjekk på innhold i SvarUt. Det vil komme mulighet for å hente ut forsendelser i søk og via api på eksternref.    Tittel Tittel på forsendelsen. Tittel blir vist i tittelfeltet på melding til Altinn, og i listen over innkommende meldinger. Må være utfylt   Konteringskode Kode som beskriver faktureringskonto for forsendelsen. Kan benyttes for å gruppere meldingsstatistikk gjennom forvaltningsløsningen, og sendes videre til print-leverandør. ^[a-zA-Z0-9\\-\\.øæåØÆÅ]{0,20}$   Printkonfigurasjon Konfigurasjon for hvordan dokumentet skal printes, dobbeltsidig, fargeprint, A-Post, B-Post   KunDigitalLevering Vi leverer kun digitalt, ingen print og postlegging. Hvis dokumentet ikke kan leveres digital blir det ikke levert. Hvis KunDigitalLevering er valgt må fødselsnr eller orgnr være utfylt.   kryptert Settes til true dersom fil(ene) som sendes er kryptert. Dersom kryptering ikke er brukt må denne være satt til false. Se kodeeksempler for eksempel på kryptering. Det må være kryptert med CMS med svarut sin publickey. [Den offentlige nøkkelen](/forsendelse/publickey/hent)   krevNiva4Innlogging Forsendelsen krever nivå 4-innlogging for å kunne lastes ned eller signeres. Disse forsendelsene må være kryptert.   svarPaForsendelse Forsendelseid til forsendelse dette er et svar på.   svarPaForsendelseLink Mottaker kan svare på forsendelse. Orgnr i svar sendes til må matche et orgnr i edialog mottakere.   Liste med filer Rekkefølgen er rekkefølgen de kommer i brevet. Total filstørrelse inntil 350MB er støttet når det skal printes. Ellers er det ikke begrensning.   Filnavn Filnavn er for intern bruk, må være unikt i en forsendelse. Max 226 tegn. Må ikke inneholde mappe, kun filnavn. (ingen / eller \\) Disse tegnene er også ugyldige \" ? * | : De har andre funksjoner i windows og kan ikke brukes i filnavn på windows.   Mimetype Mimetype på være application/pdf hvis den skal til print. Kun digital levering er valgt kan vi ta imot annet. Kun application/pdf hvis den skal til print   Data Fildata   GiroarkSider Liste med sidetall som skal printes på gult giroark. Digital versjon vil få grått giroark. Første side er 1.   skalSigneres Angir om filen skal signeres Bare en fil kan signeres og skal være av type PDF   Liste med Lenker Rekkefølgen er samme som de vil komme i brevet. Kan være tom.   Url lenke Selve lenken til dokument/nettside Må være utfylt og være i gyldig lenke format, altså (http/https/ftp)://(nettside).(com/no/ etc)   Url tekst  Må være utfylt   Ledetekst Teksten som kommer før lenken i brevet   Metadata fra avleverende system Noark5 metadata fra avleverende system, foreløbig oversikt   Saksekvensnummer   Saksaar   Journalaar   Journalseksvensnummer   Journalpostnummer   Journalposttype   Journalstatus   Journaldato   DokumentetsDato   Tittel   Saksbehandler   EkstraMetadata Liste med key,value for forskjellige behov. Keys må være unique.   Metadata i mottakende system Noark5 metadata som stemmer med mottakende system. Kan brukes til å legge dokumentet på rett sak. Samme som over.   Saksekvensnummer   Saksaar   Journalposttype   Journalstatus   DokumentetsDato   Tittel   SvarSendesTil PrivatPerson eller Organisasjon, full adresse må være utfylt. Dette er mottaker som en skal sende til om en vil svare på forsendelsen. Valgfritt å fylle ut. Dette blir brukt som avsender adresse i digital kommunikasjon og på print i posten. Vil overstyre avsender adresse i konfigurasjonen.  Ved signeringsoppdrag må feltet være satt til Organisasjon   Navn Navn på mottaker. Må være utfylt   Adresse1 Adresselinje1   Adresse2 Adresselinje2   Adresse3 Adresselinje3   Postnr Postnummer Må være utfylt   Poststed Poststed Må være utfylt   Land Land   Fødselsnr Må være utfylt om en skal svare til privatperson.   Orgnr Må være utfylt om en skal svare til en organisasjon. Ved signeringsoppdrag må organisasjonsnummer må være fylt ut.   signeringUtloper Angi hvor lenge signeringsoppdraget er gyldig, minimum 1 dag. Må anngis ved signering   signaturtype Velge mellom autentisert eller avansert signering. Må anngis ved signering    retrieveForsendelseStatus Henter status for en forsendelse. Denne bør bruker når det er behov for å vise status. Tenkt brukt f.eks om saksbehandler lurer på hva som er status på forsendelsen. Status kan endre seg på kort varsel, vi anbefaler derfor å ikke mellomlagre disse verdiene i eget system, men heller hente de når de skal vises.\nEn forsendelse kan ha en av tilstandene beskrevet under:\nTilstander (normalløp): Mottatt Et kall mottatt på forsendelses-service. En id blir tildelt forsendelsen. Akseptert Meldingen er validert og forsendelsesfil dannet. Klar for mottak Venter på at forsendelse skal bli lastet ned av mottaker. Varslet Et varsel om forsendelsen er sendt til varslingstjenesten. Lest En forsendelse er lest når hele forsendelsesfilen er lastet ned av mottaker. Sendt print Forsendelsen er blitt overført til printleverandør. Sendt digitalt Forsendelsen er motatt og sendt slik den skal. Ikke blitt lest enda. Forsendelser med denne status vil kun leveres digitalt, og vil aldri gå til print. Sendt SDP Forsendelsen er motatt og sendt til Sikker digital postkasse. Levert SDP Forsendelsen er motatt og sendt til Sikker digital postkasse. Vi har motatt Leveringskvittering fra SDP. Forsendelsen skal da være tilgjengelig for mottaker. Printet Printkvittering mottatt fra printleverandør eller manuell print bekreftet(via webgrensesnitt).  Tilstander (unntak): Avvist Forsendelsen er ikke validert pga. manglende/korrupt metadata, eller fordi forsendelsesfil ikke kunne dannes. Manuelt håndtert Forsendelsen er manuelt avsluttet, f.eks. pga en feilsituasjon.  retrieveForsendelseStatuser Henter status for flere forsendelseer. Samme som retrieveForsendelseStatus bare for flere forsendelser i samme kall. Returnerer liste med status, når status oppstod og forsendelseid.\nforsendelseid Id på forsendelsen. sisteStatusEndring Når statusen endret seg sist ForsendelseStatus Siste forsendelse status  retrieveForsendelseHistorikk Henter historikk for en forsendelse. Returnerer en liste med beskrivelse av hva som har skjedd og når det inntraff. Listen tilsvarer ekspederingsloggen i forsendelsesoversikten. Tenkt brukt hvis saksbehandler eller kundestøtte trenger å vite detaljene ved en forsendelse.\n  Felt Beskrivelse Validering     Forsendelsesid Identifikator som unikt identifiserer en forsendelse. Må være utfylt    setForsendelseLestAvEksterntSystem Setter status for en forsendelse til lest basert på forsendelsesId. Benyttes for å sette status til lest når dokumentet har blitt lest utenfor vårt system.\n  Felt Beskrivelse Validering     Forsendelsesid Identifikator som unikt identifiserer en forsendelse. Må være utfylt   Fødselsnummer Fødselsnummer til brukeren som har lest forsendelsen. Ikke tomt og 11 siffer langt   navnPaEksterntSystem Navn til det eksterne systemet som håndterte lesingen av forsendelsen.   datoLest Dato og tidpunkt som forsendelsen ble lest på. Hvis blank settes den til nåtid.    retrieveForsendelseIdByEksternRef Henter liste med forsendelseider som har denne eksternRef. Forsendelsene må være sendt av avsender som er innlogget.\n  Felt Beskrivelse Validering     EksternRef EksternRef, id som identifiserer forsendelsen hos avsender. Må være utfylt    "
},
{
	"uri": "/svarut/integrasjon/forsendelseservicev8/",
	"title": "ForsendelseServiceV8",
	"tags": [],
	"description": "",
	"content": " Tilgang For å benytte web-tjenesten må en bruke HTTP Basic autentication med brukernavn(avsendernavn) og service-passord. Avsender opprettes av KS-SvarUt administrator/organisasjons administrator. Service-passordet genereres av avsender-ansvarlig via konfigurasjon-siden.\nTjenester Forsendelsesservicet tilbyr følgende funksjonalitet:\n   Operasjon Inndata Utdata Kort beskrivelse     sendForsendelse Forsendelse forsendelsesid Hovedtjeneste som sender inn forsendelse til ekspedering av KS-SvarUt.   retrieveForsendelseStatus forsendelsesid ForsendelseStatus Henter status for en forsendelse.   retrieveForsendelseStatuser List\u0026lt;forsendelsesid\u0026gt; List\u0026lt;StatusResult\u0026gt; Henter status for flere forsendelseer. Returnerer liste med status, når status oppstod og forsendelseid.   retrieveForsendelseHistorikk forsendelsesid ForsendelseHistorikk Henter historikk for en forsendelse, tilsvarer ekspederingsloggen i forsendelsesoversikten.   retrieveForsendelseIdByEksternRef eksternref List\u0026lt;forsendelsesid\u0026gt; Henter liste med forsendelseider som har denne eksternRef.   setForsendelseLestAvEksterntSystem forsendelsesid, lestAvFodselsnummer, navnPaEksterntSystem, datoLest (Ingen retur) Benyttes for å sette status til lest når dokumentet har blitt lest utenfor vårt system.   retreiveForsendelseTyper  List\u0026lt;String\u0026gt; Henter alle forsendelseTyper som kan brukes i SvarInn.   retrieveMottakerSystemForOrgnr organisasjonsnr Liste med  orgnr,  forsendelseType,  nivå,  mottakersystem,  mottakersystemid Henter alle konfigurerte mottakersystem for orgnr    Definisjonsfil (WSDL) for tjenesten finnes her https://svarut.ks.no/tjenester/forsendelseservice/ForsendelsesServiceV8?wsdl\nsendForsendelse SendForsendelse for ekspedering i SvarUt. Hvis du får HTTP 200 ok er forsendelsen er mottat og akseptert av SvarUt. Dette betyr at vi da vil garantere levering til mottaker (kunDigital har ikke garantert levering). Hvis det skulle oppstå problemer vil avsender bli kontaktet. Dette betyr at jobben til avleverende system nå er ferdig.\nFeilmeldinger på tjeneste skal kunne presenteres for bruker. Det kan komme tekniske feilmeldinger, men da er disse greit å vise hvis de skal kontakte SvarUt for hjelp.\nFølgende metadata inkluderes:\n   Felt Beskrivelse Validering     Mottaker Addresse, full post adresse må være utfylt, for sending til Altinn må digitaladresse med orgnr/fødselsnr være utfylt. Støtte for utenlandske adresser. Ved signeringsoppdrag må PersonDigitalAdresse brukes.   PostAdresse:   Navn Navn på mottaker. Må være utfylt   Adresse1 Adresselinje1   Adresse2 Adresselinje2   Adresse3 Adresselinje3   Postnr Postnummer Må være utfylt, 4 tall for norske adresser   Poststed Poststed Må være utfylt   Land Land   DigitalAdresse:   Fødselsnr Hvis Privat, må være utfylt for å kunne levere til altinn.  Ved signeringsoppdrag må dette feltet være utfylt.   Orgnr Hvis organisasjon, må være utfylt for å kunne levere til altinn.    Avgivende system Identifikator som identifiserer systemet som gjør web-service kallet, vil blant annet kunne benyttes for statistikk og feilsøking. Bruk følgende for sak/arkivsystemene: Doculive, Ephorte, ESA, 360 og Websak. For andre fagsystemer avtales dette med KS KommIT på [svarut@ks.no](mailto:svarut@ks.no). Obligatorisk felt.   forsendelseType Fritekst felt for å kunne identifisere forsendelse type.   eksternref Ekstern id for forsendelsen, ingen sjekk på innhold i SvarUt. Det vil komme mulighet for å hente ut forsendelser i søk og via api på eksternref.    Tittel Tittel på forsendelsen. Tittel blir vist i tittelfeltet på melding til Altinn, og i listen over innkommende meldinger. Må være utfylt   Konteringskode Kode som beskriver faktureringskonto for forsendelsen. Kan benyttes for å gruppere meldingsstatistikk gjennom forvaltningsløsningen, og sendes videre til print-leverandør. ^[a-zA-Z0-9\\-\\.øæåØÆÅ]{0,20}$   Printkonfigurasjon Konfigurasjon for hvordan dokumentet skal printes, dobbeltsidig, fargeprint, A-Post, B-Post   KunDigitalLevering Vi leverer kun digitalt, ingen print og postlegging. Hvis dokumentet ikke kan leveres digital blir det ikke levert. Hvis KunDigitalLevering er valgt må fødselsnr eller orgnr være utfylt.   kryptert Settes til true dersom fil(ene) som sendes er kryptert. Dersom kryptering ikke er brukt må denne være satt til false. Se kodeeksempler for eksempel på kryptering. Det må være kryptert med CMS med svarut sin publickey. [Den offentlige nøkkelen](/forsendelse/publickey/hent)   krevNiva4Innlogging Forsendelsen krever nivå 4-innlogging for å kunne lastes ned eller signeres. Disse forsendelsene må være kryptert.   svarPaForsendelse Forsendelseid til forsendelse dette er et svar på.   svarPaForsendelseLink Mottaker kan svare på forsendelse. Orgnr i svar sendes til må matche et orgnr i edialog mottakere.   Liste med filer Rekkefølgen er rekkefølgen de kommer i brevet. Total filstørrelse inntil 350MB er støttet når det skal printes. Ellers er det ikke begrensning.   Filnavn Filnavn er for intern bruk, må være unikt i en forsendelse. Max 226 tegn. Må ikke inneholde mappe, kun filnavn. (ingen / eller \\) Disse tegnene er også ugyldige \" ? * | : De har andre funksjoner i windows og kan ikke brukes i filnavn på windows.   Mimetype Mimetype på være application/pdf hvis den skal til print. Kun digital levering er valgt kan vi ta imot annet. Kun application/pdf hvis den skal til print   DokumentType Fritekstfelt som kan brukes til å fortelle noe om dokumentTypen til feltet. Kan brukes til noark4 dokumenttyper    Data Fildata   GiroarkSider Liste med sidetall som skal printes på gult giroark. Digital versjon vil få grått giroark. Første side er 1.   skalSigneres Angir om filen skal signeres Bare en fil kan signeres og skal være av type PDF   Liste med Lenker Rekkefølgen er samme som de vil komme i brevet. Kan være tom.   Url lenke Selve lenken til dokument/nettside Må være utfylt og være i gyldig lenke format, altså (http/https/ftp)://(nettside).(com/no/ etc)   Url tekst  Må være utfylt   Ledetekst Teksten som kommer før lenken i brevet   Metadata fra avleverende system Noark5 metadata fra avleverende system, foreløbig oversikt   Saksekvensnummer   Saksaar   Journalaar   Journalseksvensnummer   Journalpostnummer   Journalposttype   Journalstatus   Journaldato   DokumentetsDato   Tittel   Saksbehandler   EkstraMetadata Liste med key,value for forskjellige behov. Keys må være unique.   Metadata i mottakende system Noark5 metadata som stemmer med mottakende system. Kan brukes til å legge dokumentet på rett sak. Samme som over.   Saksekvensnummer   Saksaar   Journalposttype   Journalstatus   DokumentetsDato   Tittel   SvarSendesTil Addresse, full post adresse må være utfylt. Dette er mottaker som en skal sende til om en vil svare på forsendelsen. Valgfritt å fylle ut    PostAdresse:   Navn Navn på mottaker. Må være utfylt   Adresse1 Adresselinje1   Adresse2 Adresselinje2   Adresse3 Adresselinje3   Postnr Postnummer Må være utfylt, 4 tall for norske adresser   Poststed Poststed Må være utfylt   Land Land   DigitalAdresse:   Fødselsnr Hvis Privat, må være utfylt for å kunne levere til altinn.  Ved signeringsoppdrag må dette feltet være utfylt.   Orgnr Hvis organisasjon, må være utfylt for å kunne levere til altinn.    signeringUtloper Angi hvor lenge signeringsoppdraget er gyldig, minimum 1 dag. Må anngis ved signering   signaturtype Velge mellom autentisert eller avansert signering. Må anngis ved signering    retrieveForsendelseStatus Henter status for en forsendelse. Denne bør bruker når det er behov for å vise status. Tenkt brukt f.eks om saksbehandler lurer på hva som er status på forsendelsen. Status kan endre seg på kort varsel, vi anbefaler derfor å ikke mellomlagre disse verdiene i eget system, men heller hente de når de skal vises.\nEn forsendelse kan ha en av tilstandene beskrevet under:\nTilstander (normalløp): Mottatt Et kall mottatt på forsendelses-service. En id blir tildelt forsendelsen. Akseptert Meldingen er validert og forsendelsesfil dannet. Klar for mottak Venter på at forsendelse skal bli lastet ned av mottaker. Varslet Et varsel om forsendelsen er sendt til varslingstjenesten. Lest En forsendelse er lest når hele forsendelsesfilen er lastet ned av mottaker. Sendt print Forsendelsen er blitt overført til printleverandør. Sendt digitalt Forsendelsen er motatt og sendt slik den skal. Ikke blitt lest enda. Forsendelser med denne status vil kun leveres digitalt, og vil aldri gå til print. Sendt SDP Forsendelsen er motatt og sendt til Sikker digital postkasse. Levert SDP Forsendelsen er motatt og sendt til Sikker digital postkasse. Vi har motatt Leveringskvittering fra SDP. Forsendelsen skal da være tilgjengelig for mottaker. Printet Printkvittering mottatt fra printleverandør eller manuell print bekreftet(via webgrensesnitt).  Tilstander (unntak): Avvist Forsendelsen er ikke validert pga. manglende/korrupt metadata, eller fordi forsendelsesfil ikke kunne dannes. Manuelt håndtert Forsendelsen er manuelt avsluttet, f.eks. pga en feilsituasjon.  retrieveForsendelseStatuser Henter status for flere forsendelseer. Samme som retrieveForsendelseStatus bare for flere forsendelser i samme kall. Returnerer liste med status, når status oppstod og forsendelseid.\nforsendelseid Id på forsendelsen. sisteStatusEndring Når statusen endret seg sist ForsendelseStatus Siste forsendelse status  retrieveForsendelseHistorikk Henter historikk for en forsendelse. Returnerer en liste med beskrivelse av hva som har skjedd og når det inntraff. Listen tilsvarer ekspederingsloggen i forsendelsesoversikten. Tenkt brukt hvis saksbehandler eller kundestøtte trenger å vite detaljene ved en forsendelse.\n  Felt Beskrivelse Validering     Forsendelsesid Identifikator som unikt identifiserer en forsendelse. Må være utfylt    setForsendelseLestAvEksterntSystem Setter status for en forsendelse til lest basert på forsendelsesId. Benyttes for å sette status til lest når dokumentet har blitt lest utenfor vårt system.\n  Felt Beskrivelse Validering     Forsendelsesid Identifikator som unikt identifiserer en forsendelse. Må være utfylt   Fødselsnummer Fødselsnummer til brukeren som har lest forsendelsen. Ikke tomt og 11 siffer langt   navnPaEksterntSystem Navn til det eksterne systemet som håndterte lesingen av forsendelsen.   datoLest Dato og tidpunkt som forsendelsen ble lest på. Hvis blank settes den til nåtid.    retrieveForsendelseIdByEksternRef Henter liste med forsendelseider som har denne eksternRef. Forsendelsene må være sendt av avsender som er innlogget.\n  Felt Beskrivelse Validering     EksternRef EksternRef, id som identifiserer forsendelsen hos avsender. Må være utfylt    retrieveMottakerSystemForOrgnr Henter mottakersystem som er konfigurert for orgnr. Kan brukes hvis en vil vite om mottaker har konfigurert SvarInn og til hvilket system det vil havne.\n  Felt Beskrivelse Validering     Organisasjonsnr Organisasjonsnr. Må være utfylt    Du vil få tilbake en liste med:, orgnr, forsendelseType, nivå, mottakersystem, og mottakersystemid. \n\nFelt\nBeskrivelse\n\n\n\n\nOrgnr\nOrganisasjonsnr.\n\n\nForsendelseType\nForsendelsetypen dette systemet vil motta for, hvis null eller tom vil den kunne motta alle forsendelseTyper.\n\n\nNivå\nHvilket forsendelsenivå dette mottakersystemet støtter.\n\n\nMottakersystem\nNavn på mottakersystem\n\n\nMottakersystemid\nId for å identifiserere mottakersystem\n\n\n\nretreiveForsendelseTyper Henter alle forsnedelseTyper som Svarinn mottakersystem kan konfigureres til å bruke.\n"
},
{
	"uri": "/svarut/integrasjon/forsendelseservicev9/",
	"title": "ForsendelseServiceV9",
	"tags": [],
	"description": "",
	"content": " Tilgang For å benytte web-tjenesten må en bruke HTTP Basic autentication med brukernavn(avsendernavn) og service-passord. Avsender opprettes av KS-SvarUt administrator/organisasjons administrator. Service-passordet genereres av avsender-ansvarlig via konfigurasjon-siden.\nTjenester Forsendelsesservicet tilbyr følgende funksjonalitet:\n   Operasjon Inndata Utdata Kort beskrivelse     sendForsendelse Forsendelse forsendelsesid Hovedtjeneste som sender inn forsendelse til ekspedering av KS-SvarUt.   retrieveForsendelseStatus forsendelsesid ForsendelseStatus Henter status for en forsendelse.   retrieveForsendelseStatuser List\u0026lt;forsendelsesid\u0026gt; List\u0026lt;StatusResult\u0026gt; Henter status for flere forsendelseer. Returnerer liste med status, når status oppstod og forsendelseid.   retrieveForsendelseHistorikk forsendelsesid ForsendelseHistorikk Henter historikk for en forsendelse, tilsvarer ekspederingsloggen i forsendelsesoversikten.   retrieveForsendelseIdByEksternRef eksternref List\u0026lt;forsendelsesid\u0026gt; Henter liste med forsendelseider som har denne eksternRef.   setForsendelseLestAvEksterntSystem forsendelsesid, lestAvFodselsnummer, navnPaEksterntSystem, datoLest (Ingen retur) Benyttes for å sette status til lest når dokumentet har blitt lest utenfor vårt system.   retreiveForsendelseTyper  List\u0026lt;String\u0026gt; Henter alle forsendelseTyper som kan brukes i SvarInn.   retrieveMottakerSystemForOrgnr organisasjonsnr Liste med  orgnr,  forsendelseType,  nivå,  mottakersystem,  mottakersystemid Henter alle konfigurerte mottakersystem for orgnr   retrieveSigneringshistorikk forsendelsesid Signeringshistorikk Henter signeringshistorikk (logg) på en forsendelse som er markert for signering.   retrieveSigneringshistorikkForFlereForsendelser List\u0026lt;forsendelsesid\u0026gt; List\u0026lt;Signeringshistorikk\u0026gt; Henter signeringshistorikk for opp til 10 forsendelser.    Definisjonsfil (WSDL) for tjenesten finnes her https://svarut.ks.no/tjenester/forsendelseservice/ForsendelsesServiceV9?wsdl\nsendForsendelse SendForsendelse for ekspedering i SvarUt. Hvis du får HTTP 200 ok er forsendelsen er mottat og akseptert av SvarUt. Dette betyr at vi da vil garantere levering til mottaker (kunDigital har ikke garantert levering). Hvis det skulle oppstå problemer vil avsender bli kontaktet. Dette betyr at jobben til avleverende system nå er ferdig.\nFeilmeldinger på tjeneste skal kunne presenteres for bruker. Det kan komme tekniske feilmeldinger, men da er disse greit å vise hvis de skal kontakte SvarUt for hjelp.\nFølgende metadata inkluderes:\n   Felt Beskrivelse Validering     Mottaker Addresse, full post adresse må være utfylt, for sending til Altinn må digitaladresse med orgnr/fødselsnr være utfylt. Støtte for utenlandske adresser. Ved signeringsoppdrag må PersonDigitalAdresse brukes.   PostAdresse:   Navn Navn på mottaker. Må være utfylt   Adresse1 Adresselinje1   Adresse2 Adresselinje2   Adresse3 Adresselinje3   Postnr Postnummer Må være utfylt, 4 tall for norske adresser   Poststed Poststed Må være utfylt   Land Land   DigitalAdresse:   Fødselsnr Hvis Privat, må være utfylt for å kunne levere til altinn.  Ved signeringsoppdrag må dette feltet være utfylt.   Orgnr Hvis organisasjon, må være utfylt for å kunne levere til altinn.    Avgivende system Identifikator som identifiserer systemet som gjør web-service kallet, vil blant annet kunne benyttes for statistikk og feilsøking. Bruk følgende for sak/arkivsystemene: Doculive, Ephorte, ESA, 360 og Websak. For andre fagsystemer avtales dette med KS KommIT på [svarut@ks.no](mailto:svarut@ks.no). Obligatorisk felt.   forsendelseType Fritekst felt for å kunne identifisere forsendelse type.   eksternref Ekstern id for forsendelsen, ingen sjekk på innhold i SvarUt. Det vil komme mulighet for å hente ut forsendelser i søk og via api på eksternref.    Tittel Tittel på forsendelsen. Tittel blir vist i tittelfeltet på melding til Altinn, og i listen over innkommende meldinger. Må være utfylt   Konteringskode Kode som beskriver faktureringskonto for forsendelsen. Kan benyttes for å gruppere meldingsstatistikk gjennom forvaltningsløsningen, og sendes videre til print-leverandør. ^[a-zA-Z0-9\\-\\.øæåØÆÅ]{0,20}$   Printkonfigurasjon Konfigurasjon for hvordan dokumentet skal printes, dobbeltsidig, fargeprint, A-Post, B-Post   KunDigitalLevering Vi leverer kun digitalt, ingen print og postlegging. Hvis dokumentet ikke kan leveres digital blir det ikke levert. Hvis KunDigitalLevering er valgt må fødselsnr eller orgnr være utfylt.   kryptert Settes til true dersom fil(ene) som sendes er kryptert. Dersom kryptering ikke er brukt må denne være satt til false. Se kodeeksempler for eksempel på kryptering. Det må være kryptert med CMS med svarut sin publickey. [Den offentlige nøkkelen](/forsendelse/publickey/hent)   krevNiva4Innlogging Forsendelsen krever nivå 4-innlogging for å kunne lastes ned eller signeres. Disse forsendelsene må være kryptert.   svarPaForsendelse Forsendelseid til forsendelse dette er et svar på.   svarPaForsendelseLink Mottaker kan svare på forsendelse. Orgnr i svar sendes til må matche et orgnr i edialog mottakere.   Liste med filer Rekkefølgen er rekkefølgen de kommer i brevet. Total filstørrelse inntil 350MB er støttet når det skal printes. Ellers er det ikke begrensning.   Filnavn Filnavn er for intern bruk, må være unikt i en forsendelse. Max 226 tegn. Må ikke inneholde mappe, kun filnavn. (ingen / eller \\) Disse tegnene er også ugyldige \" ? * | : De har andre funksjoner i windows og kan ikke brukes i filnavn på windows.   Mimetype Mimetype på være application/pdf hvis den skal til print. Kun digital levering er valgt kan vi ta imot annet. Kun application/pdf hvis den skal til print   DokumentType Fritekstfelt som kan brukes til å fortelle noe om dokumentTypen til feltet. Kan brukes til noark4 dokumenttyper    EkskluderesFraPrint Dette dokumentet blir ikke med i print av forsendelsen. Brukes til filer som kun er interesange ved digital levering. F.eks xml, video eller lyd filer    Data Fildata   GiroarkSider Liste med sidetall som skal printes på gult giroark. Digital versjon vil få grått giroark. Første side er 1.   skalSigneres Angir om filen skal signeres Bare en fil kan signeres og skal være av type PDF   Liste med Lenker Rekkefølgen er samme som de vil komme i brevet. Kan være tom.   Url lenke Selve lenken til dokument/nettside Må være utfylt og være i gyldig lenke format, altså (http/https/ftp)://(nettside).(com/no/ etc)   Url tekst  Må være utfylt   Ledetekst Teksten som kommer før lenken i brevet   Metadata fra avleverende system Noark5 metadata fra avleverende system, foreløbig oversikt   Saksekvensnummer   Saksaar   Journalaar   Journalseksvensnummer   Journalpostnummer   Journalposttype   Journalstatus   Journaldato   DokumentetsDato   Tittel   Saksbehandler   EkstraMetadata Liste med key,value for forskjellige behov. Keys må være unique.   Metadata i mottakende system Noark5 metadata som stemmer med mottakende system. Kan brukes til å legge dokumentet på rett sak. Samme som over.   Saksekvensnummer   Saksaar   Journalposttype   Journalstatus   DokumentetsDato   Tittel   SvarSendesTil Addresse, full post adresse må være utfylt. Dette er mottaker som en skal sende til om en vil svare på forsendelsen. Valgfritt å fylle ut    PostAdresse:   Navn Navn på mottaker. Må være utfylt   Adresse1 Adresselinje1   Adresse2 Adresselinje2   Adresse3 Adresselinje3   Postnr Postnummer Må være utfylt, 4 tall for norske adresser   Poststed Poststed Må være utfylt   Land Land   DigitalAdresse:   Fødselsnr Hvis Privat, må være utfylt for å kunne levere til altinn.  Ved signeringsoppdrag må dette feltet være utfylt.   Orgnr Hvis organisasjon, må være utfylt for å kunne levere til altinn.    signeringUtloper Angi hvor lenge signeringsoppdraget er gyldig, minimum 1 dag. Må anngis ved signering   signaturtype Velge mellom autentisert eller avansert signering. Må anngis ved signering    retrieveForsendelseStatus Henter status for en forsendelse. Denne bør bruker når det er behov for å vise status. Tenkt brukt f.eks om saksbehandler lurer på hva som er status på forsendelsen. Status kan endre seg på kort varsel, vi anbefaler derfor å ikke mellomlagre disse verdiene i eget system, men heller hente de når de skal vises.\nEn forsendelse kan ha en av tilstandene beskrevet under:\nTilstander (normalløp): Mottatt Et kall mottatt på forsendelses-service. En id blir tildelt forsendelsen. Akseptert Meldingen er validert og forsendelsesfil dannet. Klar for mottak Venter på at forsendelse skal bli lastet ned av mottaker. Varslet Et varsel om forsendelsen er sendt til varslingstjenesten. Lest En forsendelse er lest når hele forsendelsesfilen er lastet ned av mottaker. Sendt print Forsendelsen er blitt overført til printleverandør. Sendt digitalt Forsendelsen er motatt og sendt slik den skal. Ikke blitt lest enda. Forsendelser med denne status vil kun leveres digitalt, og vil aldri gå til print. Sendt SDP Forsendelsen er motatt og sendt til Sikker digital postkasse. Levert SDP Forsendelsen er motatt og sendt til Sikker digital postkasse. Vi har motatt Leveringskvittering fra SDP. Forsendelsen skal da være tilgjengelig for mottaker. Printet Printkvittering mottatt fra printleverandør eller manuell print bekreftet(via webgrensesnitt).  Tilstander (unntak): Avvist Forsendelsen er ikke validert pga. manglende/korrupt metadata, eller fordi forsendelsesfil ikke kunne dannes. Manuelt håndtert Forsendelsen er manuelt avsluttet, f.eks. pga en feilsituasjon.  retrieveForsendelseStatuser Henter status for flere forsendelseer. Samme som retrieveForsendelseStatus bare for flere forsendelser i samme kall. Returnerer liste med status, når status oppstod og forsendelseid.\nforsendelseid Id på forsendelsen. sisteStatusEndring Når statusen endret seg sist ForsendelseStatus Siste forsendelse status  retrieveForsendelseHistorikk Henter historikk for en forsendelse. Returnerer en liste med beskrivelse av hva som har skjedd og når det inntraff. Listen tilsvarer ekspederingsloggen i forsendelsesoversikten. Tenkt brukt hvis saksbehandler eller kundestøtte trenger å vite detaljene ved en forsendelse.\n  Felt Beskrivelse Validering     Forsendelsesid Identifikator som unikt identifiserer en forsendelse. Må være utfylt    setForsendelseLestAvEksterntSystem Setter status for en forsendelse til lest basert på forsendelsesId. Benyttes for å sette status til lest når dokumentet har blitt lest utenfor vårt system.\n  Felt Beskrivelse Validering     Forsendelsesid Identifikator som unikt identifiserer en forsendelse. Må være utfylt   Fødselsnummer Fødselsnummer til brukeren som har lest forsendelsen. Ikke tomt og 11 siffer langt   navnPaEksterntSystem Navn til det eksterne systemet som håndterte lesingen av forsendelsen.   datoLest Dato og tidpunkt som forsendelsen ble lest på. Hvis blank settes den til nåtid.    retrieveForsendelseIdByEksternRef Henter liste med forsendelseider som har denne eksternRef. Forsendelsene må være sendt av avsender som er innlogget.\n  Felt Beskrivelse Validering     EksternRef EksternRef, id som identifiserer forsendelsen hos avsender. Må være utfylt    retrieveMottakerSystemForOrgnr Henter mottakersystem som er konfigurert for orgnr. Kan brukes hvis en vil vite om mottaker har konfigurert SvarInn og til hvilket system det vil havne.\n  Felt Beskrivelse Validering     Organisasjonsnr Organisasjonsnr. Må være utfylt    Du vil få tilbake en liste med:, orgnr, forsendelseType, nivå, mottakersystem, og mottakersystemid. \n\nFelt\nBeskrivelse\n\n\n\n\nOrgnr\nOrganisasjonsnr.\n\n\nForsendelseType\nForsendelsetypen dette systemet vil motta for, hvis null eller tom vil den kunne motta alle forsendelseTyper.\n\n\nNivå\nHvilket forsendelsenivå dette mottakersystemet støtter.\n\n\nMottakersystem\nNavn på mottakersystem\n\n\nMottakersystemid\nId for å identifiserere mottakersystem\n\n\n\nretreiveForsendelseTyper Henter alle forsnedelseTyper som Svarinn mottakersystem kan konfigureres til å bruke.\nretrieveSigneringshistorikk Henter signeringshistorikk for en gitt forsendelse.\nInndata   Felt Type Beskrivelse Validering     forsendelseid String Identifikator som unikt identifiserer en forsendelse. Må være utfylt    Utdata   Felt Type Beskrivelse     forsendelseid String Identifikator som unikt identifiserer en forsendelse.   logg List\u0026lt;Signeringslogg\u0026gt;  Signeringslogg   Felt Type     tidspunkt String   type String   hendelse String   Liste med logg-elementer    retrieveSigneringshistorikkForFlereForsendelser Samme som retrieveSigneringshistorikk bare for flere forsendelser i samme kall, opp til 10 forsendelser. Returnerer liste med signeringshistorikk.\n"
},
{
	"uri": "/svarut/integrasjon/kodeeksempeldotnet/",
	"title": "Kodeeksempel .Net",
	"tags": [],
	"description": "",
	"content": " Kodeeksempel - .NET Last ned komplett kodeeksempel\nGenerelt  Bruk WCF til import av WSDL Sett authenticationScheme til Basic i config:  Bytt ut textMessageEncoding i config med mtomMessageEncoding: html\u0026lt;mtomMessageEncoding maxReadPoolSize=\u0026quot;211\u0026quot; maxWritePoolSize=\u0026quot;2132\u0026quot; messageVersion=\u0026quot;Soap12\u0026quot; writeEncoding=\u0026quot;utf-8\u0026quot;/\u0026gt;  Konfigurasjon (app.config) \u0026lt;?xml version=\u0026#34;1.0\u0026#34; encoding=\u0026#34;utf-8\u0026#34; ?\u0026gt; \u0026lt;configuration\u0026gt; \u0026lt;system.serviceModel\u0026gt; \u0026lt;bindings\u0026gt; \u0026lt;customBinding\u0026gt; \u0026lt;binding name=\u0026#34;ForsendelsesServiceV4SoapBinding\u0026#34;\u0026gt; \u0026lt;mtomMessageEncoding maxReadPoolSize=\u0026#34;211\u0026#34; maxWritePoolSize=\u0026#34;2132\u0026#34; messageVersion=\u0026#34;Soap12\u0026#34; writeEncoding=\u0026#34;utf-8\u0026#34;/\u0026gt; \u0026lt;httpsTransport manualAddressing=\u0026#34;false\u0026#34; maxBufferPoolSize=\u0026#34;524288\u0026#34; maxReceivedMessageSize=\u0026#34;65536\u0026#34; allowCookies=\u0026#34;false\u0026#34; authenticationScheme=\u0026#34;Basic\u0026#34; bypassProxyOnLocal=\u0026#34;false\u0026#34; decompressionEnabled=\u0026#34;true\u0026#34; hostNameComparisonMode=\u0026#34;StrongWildcard\u0026#34; keepAliveEnabled=\u0026#34;true\u0026#34; maxBufferSize=\u0026#34;65536\u0026#34; proxyAuthenticationScheme=\u0026#34;Anonymous\u0026#34; realm=\u0026#34;\u0026#34; transferMode=\u0026#34;Buffered\u0026#34; unsafeConnectionNtlmAuthentication=\u0026#34;false\u0026#34; useDefaultWebProxy=\u0026#34;true\u0026#34; requireClientCertificate=\u0026#34;false\u0026#34; /\u0026gt; \u0026lt;/binding\u0026gt; \u0026lt;/customBinding\u0026gt; \u0026lt;/bindings\u0026gt; \u0026lt;client\u0026gt; \u0026lt;endpoint address=\u0026#34;https://test.svarut.ks.no/tjenester/forsendelseservice/ForsendelsesServiceV4\u0026#34; binding=\u0026#34;customBinding\u0026#34; bindingConfiguration=\u0026#34;ForsendelsesServiceV4SoapBinding\u0026#34; contract=\u0026#34;ForsendelsesService.ForsendelsesServiceV4\u0026#34; name=\u0026#34;ForsendelsesServiceV4\u0026#34; /\u0026gt; \u0026lt;/client\u0026gt; \u0026lt;/system.serviceModel\u0026gt; \u0026lt;/configuration\u0026gt; Kall av tjenesten fra en testmetode. /// \u0026lt;summary\u0026gt;/// Dette eksemplet forutsetter at følgende er gjort: /// 1) Har opprettet bruker og service-passord for å kunne sende inn forsendelse til SvarUt ///\u0026lt;/summary\u0026gt; [TestMethod] public void TestAtSendForsendelseReturnererId() { var forsendelsesService = new ForsendelsesService.ForsendelsesServiceV4Client(); forsendelsesService.ClientCredentials.UserName.UserName = UserName; forsendelsesService.ClientCredentials.UserName.Password = Password; string tittel = \u0026#34;Dette er en ukryptert eksempelforsendelse fra .Net - \u0026#34; + Guid.NewGuid().ToString(); string id = forsendelsesService.sendForsendelse(ForsendelseUtil.CreateUkryptertForsendelse(tittel)); Assert.IsNotNull(\u0026#34;Id skal ikke være null. Forsendelse feilet.\u0026#34;, id); } /// \u0026lt;summary\u0026gt;/// Dette eksemplet forutsetter at følgende er gjort: /// 1) Har opprettet bruker og service-passord for å kunne sende inn forsendelse til SvarUt /// 3) Har lastet ned public key fra SvarUt og erstattet filen svarut_public.pem i resources mappen /// 4) Orgnr er registrert på mottaker i SvarUt ///\u0026lt;/summary\u0026gt; [TestMethod] public void TestAtKryptertSendForsendelseReturnererId() { // NB: Dette er kun gjort for testing. ServicePointManager.ServerCertificateValidationCallback = (obj, certificate, chain, errors) =\u0026gt; true; // NB: Slå av Expect100Continue. Denne er pr default satt til true og kan føre til problemer. ServicePointManager.Expect100Continue = false; var forsendelsesService = new ForsendelsesService.ForsendelsesServiceV4Client(); forsendelsesService.ClientCredentials.UserName.UserName = UserName; forsendelsesService.ClientCredentials.UserName.Password = Password; string tittel = \u0026#34;Dette er en kryptert eksempelforsendelse fra .Net - \u0026#34; + Guid.NewGuid().ToString(); string id = forsendelsesService.sendForsendelse(ForsendelseUtil.CreateKryptertForsendelse(tittel)); Assert.IsNotNull(\u0026#34;Id skal ikke være null. Forsendelse feilet.\u0026#34;, id); } namespace ForsendelseClientSample.Utils { class ForsendelseUtil { public static forsendelse CreateKryptertForsendelse(string tittel) { forsendelse forsendelse = new forsendelse {kryptert = true, tittel = tittel, krevNiva4Innlogging = false, avgivendeSystem = \u0026#34;Avgivende system .Net\u0026#34;}; forsendelse.dokumenter = new[] {CreateKryptertDokument()}; forsendelse.mottaker = CreatePrivatPerson(); forsendelse.printkonfigurasjon = CreatePrintkonfigurasjon(); return forsendelse; } public static forsendelse CreateUkryptertForsendelse(string tittel) { var testForsendelse = new forsendelse { kryptert = false, tittel = tittel, krevNiva4Innlogging = false, avgivendeSystem = \u0026#34;Avgivende system .Net\u0026#34;}; testForsendelse.mottaker = CreatePrivatPerson(); var dok = new dokument(); dok.filnavn = \u0026#34;small.pdf\u0026#34;; dok.mimetype = \u0026#34;application/pdf\u0026#34;; dok.data = ForsendelseClientSample.Properties.Resources.small_pdf; testForsendelse.dokumenter = new dokument[1] { dok }; testForsendelse.printkonfigurasjon = CreatePrintkonfigurasjon(); return testForsendelse; } public static forsendelse CreateUkryptertForsendelseForOrgnr(string tittel, string orgnr, byte[] dataBytes) { var testForsendelse = new forsendelse { kryptert = false, tittel = tittel, krevNiva4Innlogging = false, avgivendeSystem = \u0026#34;Avgivende system .Net\u0026#34; }; testForsendelse.mottaker = CreateOrganisasjon(orgnr); var dok = new dokument(); dok.filnavn = \u0026#34;small.pdf\u0026#34;; dok.mimetype = \u0026#34;application/pdf\u0026#34;; dok.data = dataBytes; testForsendelse.dokumenter = new dokument[1] { dok }; testForsendelse.printkonfigurasjon = CreatePrintkonfigurasjon(); return testForsendelse; } private static mottaker CreateOrganisasjon(string orgnr) { return new organisasjon { orgnr = orgnr, adresse1 = \u0026#34;Hakkebakkeskogen 111\u0026#34;, navn = \u0026#34;Bamsefar\u0026#34;, postnr = \u0026#34;5236\u0026#34;, poststed = \u0026#34;RÅDAL\u0026#34; }; } private static printkonfigurasjon CreatePrintkonfigurasjon() { return new printkonfigurasjon { brevtype = brevtype.APOST, brevtypeSpecified = true, fargePrint = false, tosidig = false }; } private static mottaker CreatePrivatPerson() { return new privatPerson { fodselsnr = \u0026#34;12345678910\u0026#34;, adresse1 = \u0026#34;Hakkebakkeskogen 111\u0026#34;, navn = \u0026#34;Bamsefar\u0026#34;, postnr = \u0026#34;5236\u0026#34;, poststed = \u0026#34;RÅDAL\u0026#34; }; } public static dokument CreateKryptertDokument() { dokument dok = new dokument(); dok.mimetype = \u0026#34;application/pdf\u0026#34;; dok.filnavn = \u0026#34;test.pdf\u0026#34;; X509Certificate sertifikat = HentX509Certificate(); KrypterDokumentMedSertifikat(dok, sertifikat); return dok; } private static void KrypterDokumentMedSertifikat(dokument dok, X509Certificate sertifikat) { byte[] ukryptertBytes = ForsendelseClientSample.Properties.Resources.small_pdf; byte[] kryptertData = CMSDataKryptering.KrypterData(ukryptertBytes, sertifikat); dok.data = kryptertData; } private static X509Certificate HentX509Certificate() { // svarut_public.pem må lastes ned og erstattes X509CertificateParser certParser = new X509CertificateParser(); X509Certificate certificate = certParser.ReadCertificate(ForsendelseClientSample.Properties.Resources.svarut_public); return certificate; } } }"
},
{
	"uri": "/svarut/integrasjon/kodeeksempeljava/",
	"title": "Kodeeksempel Java",
	"tags": [],
	"description": "",
	"content": " Kodeeksempel - Java Last ned komplett kodeeksempel\nDersom forsendelser skal krypteres, trenger du Unlimited Strength Jurisdiction files for Java (en Java Cryptography Extension). I tillegg trengs den offentlige nøkkelen til SvarUt. Dersom forsendelser ikke skal krypteres trengs ikke Bouncy Castle-avhengighetene.\nMaven dependencies \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;org.apache.cxf\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;cxf-rt-frontend-jaxws\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;${cxf.version}\u0026lt;/version\u0026gt; \u0026lt;/dependency\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;org.apache.cxf\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;cxf-rt-transports-http\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;${cxf.version}\u0026lt;/version\u0026gt; \u0026lt;/dependency\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;org.apache.commons\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;commons-io\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;1.3.2\u0026lt;/version\u0026gt; \u0026lt;/dependency\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;org.bouncycastle\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;bcpkix-jdk15on\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;1.50\u0026lt;/version\u0026gt; \u0026lt;/dependency\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;org.bouncycastle\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;bcprov-jdk15on\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;1.50\u0026lt;/version\u0026gt; \u0026lt;/dependency\u0026gt; Maven plugin \u0026lt;build\u0026gt; \u0026lt;plugins\u0026gt; \u0026lt;plugin\u0026gt; \u0026lt;groupId\u0026gt;org.apache.cxf\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;cxf-codegen-plugin\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;${cxf.version}\u0026lt;/version\u0026gt; \u0026lt;executions\u0026gt; \u0026lt;execution\u0026gt; \u0026lt;id\u0026gt;generate-sources\u0026lt;/id\u0026gt; \u0026lt;phase\u0026gt;generate-sources\u0026lt;/phase\u0026gt; \u0026lt;configuration\u0026gt; \u0026lt;sourceRoot\u0026gt;${project.build.directory}/generated/cxf\u0026lt;/sourceRoot\u0026gt; \u0026lt;wsdlOptions\u0026gt; \u0026lt;wsdlOption\u0026gt; \u0026lt;wsdl\u0026gt;https://svarut.ks.no/tjenester/forsendelseservice/ForsendelsesServiceV4?wsdl\u0026lt;/wsdl\u0026gt; \u0026lt;/wsdlOption\u0026gt; \u0026lt;/wsdlOptions\u0026gt; \u0026lt;/configuration\u0026gt; \u0026lt;goals\u0026gt; \u0026lt;goal\u0026gt;wsdl2java\u0026lt;/goal\u0026gt; \u0026lt;/goals\u0026gt; \u0026lt;/execution\u0026gt; \u0026lt;/executions\u0026gt; \u0026lt;/plugin\u0026gt; \u0026lt;plugin\u0026gt; \u0026lt;groupId\u0026gt;org.apache.maven.plugins\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;maven-compiler-plugin\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;3.1\u0026lt;/version\u0026gt; \u0026lt;configuration\u0026gt; \u0026lt;source\u0026gt;1.8\u0026lt;/source\u0026gt; \u0026lt;target\u0026gt;1.8\u0026lt;/target\u0026gt; \u0026lt;encoding\u0026gt;UTF-8\u0026lt;/encoding\u0026gt; \u0026lt;/configuration\u0026gt; \u0026lt;/plugin\u0026gt; \u0026lt;/plugins\u0026gt; \u0026lt;/build\u0026gt; Kall av tjenesten public class ForsendelseService { private final static String USERNAME = \u0026#34;brukernavn\u0026#34;; private final static String PASSORD = \u0026#34;passord\u0026#34;; private final static String SERVICE_URL = \u0026#34;https://svarut.ks.no/tjenester/forsendelseservice/ForsendelsesServiceV4\u0026#34;; private final static String PROPERTY_MTOM = \u0026#34;mtom-enabled\u0026#34;; public static ForsendelsesServiceV4 create() { Map \u0026lt;string,object\u0026gt;props = new HashMap\u0026lt;string, object=\u0026#34;\u0026#34;\u0026gt;(); props.put(\u0026#34;mtom-enabled\u0026#34;, Boolean.TRUE); JaxWsProxyFactoryBean factory = new JaxWsProxyFactoryBean(); factory.setServiceClass(ForsendelsesServiceV4.class); factory.setAddress(SERVICE_URL); factory.setUsername(USERNAME); factory.setPassword(PASSORD); factory.setProperties(getProperties()); factory.getFeatures().add(new WSAddressingFeature()); ForsendelsesServiceV4 serviceV4 = (ForsendelsesServiceV4) factory.create(); Client proxy = ClientProxy.getClient(serviceV4); HTTPConduit conduit = (HTTPConduit) proxy.getConduit(); HTTPClientPolicy httpClientPolicy = new HTTPClientPolicy(); httpClientPolicy.setConnectionTimeout(120000); httpClientPolicy.setReceiveTimeout(120000); conduit.setClient(httpClientPolicy); return serviceV4; } private static Map \u0026lt;string, object=\u0026#34;\u0026#34;\u0026gt;getProperties() { Map \u0026lt;string,object\u0026gt;props = new HashMap\u0026lt;string, object=\u0026#34;\u0026#34;\u0026gt;(); props.put(PROPERTY_MTOM, Boolean.TRUE); return props; } } Eksempel public void sendEksempelUkryptertForsendelseV4() { ForsendelsesServiceV4 service = ForsendelseService.create(); Forsendelse forsendelse = ForsendelseBuilder.createUkryptert(); try { String forsendelsesid = service.sendForsendelse(forsendelse); System.out.println(forsendelsesid); assertNotNull(\u0026#34;SendForsendelse skal returnere forsendelsesid\u0026#34;, forsendelsesid); ForsendelseStatus status = service.retrieveForsendelseStatus(forsendelsesid); System.out.println(status); assertNotNull(\u0026#34;RetrieveForsendelseStatus skal returnere status\u0026#34;, status); } catch (Exception e) { System.out.println(e.getMessage()); } } public void sendEksempelKryptertForsendelseV4() { ForsendelsesServiceV4 service = ForsendelseService.create(); try { Forsendelse forsendelse = ForsendelseBuilder.createKryptert(); String forsendelsesid = service.sendForsendelse(forsendelse); System.out.println(forsendelsesid); assertNotNull(\u0026#34;SendForsendelse skal returnere forsendelsesid\u0026#34;, forsendelsesid); ForsendelseStatus status = service.retrieveForsendelseStatus(forsendelsesid); System.out.println(status); assertNotNull(\u0026#34;RetrieveForsendelseStatus skal returnere status\u0026#34;, status); } catch (Exception e) { System.out.println(e.getMessage()); } } public class ForsendelseBuilder { public static Forsendelse createUkryptert(){ Forsendelse forsendelse = new Forsendelse(); forsendelse.setTittel(\u0026#34;Tittel\u0026#34;); forsendelse.setAvgivendeSystem(\u0026#34;Avgivende system\u0026#34;); forsendelse.getDokumenter().add(createDokument()); forsendelse.setMottaker(createPrivatPerson()); forsendelse.setPrintkonfigurasjon(createPrintkonfigurasjon()); forsendelse.setKrevNiva4Innlogging(false); forsendelse.setKryptert(false); return forsendelse; } public static Forsendelse createKryptert() throws IOException, CertificateException { Forsendelse forsendelse = new Forsendelse(); forsendelse.setTittel(\u0026#34;Tittel\u0026#34;); forsendelse.setAvgivendeSystem(\u0026#34;Avgivende system\u0026#34;); forsendelse.getDokumenter().add(createKryptertDokument()); forsendelse.setMottaker(createPrivatPerson()); forsendelse.setPrintkonfigurasjon(createPrintkonfigurasjon()); forsendelse.setKrevNiva4Innlogging(false); forsendelse.setKryptert(true); return forsendelse; } private static Printkonfigurasjon createPrintkonfigurasjon() { Printkonfigurasjon printkonfigurasjon = new Printkonfigurasjon(); printkonfigurasjon.setBrevtype(Brevtype.APOST); return printkonfigurasjon; } private static PrivatPerson createPrivatPerson() { PrivatPerson privatPerson = new PrivatPerson(); privatPerson.setAdresse1(\u0026#34;Adresse1\u0026#34;); privatPerson.setNavn(\u0026#34;Navn\u0026#34;); privatPerson.setPostnr(\u0026#34;1234\u0026#34;); privatPerson.setPoststed(\u0026#34;Poststed\u0026#34;); privatPerson.setFodselsnr(\u0026#34;12345678901\u0026#34;); return privatPerson; } private static Dokument createDokument() { Dokument dokument = new Dokument(); dokument.setData(loadPdfFromClasspath(\u0026#34;test.pdf\u0026#34;)); dokument.setMimetype(\u0026#34;application/pdf\u0026#34;); dokument.setFilnavn(\u0026#34;test.pdf\u0026#34;); return dokument; } private static Dokument createKryptertDokument() throws IOException, CertificateException { Dokument dokument = new Dokument(); dokument.setMimetype(\u0026#34;application/pdf\u0026#34;); dokument.setFilnavn(\u0026#34;test.pdf\u0026#34;); X509Certificate sertifikat = hentX509Certificate(); krypterDokumentMedSertifikat(dokument, sertifikat); return dokument; } private static X509Certificate hentX509Certificate() throws IOException, CertificateException { byte[] sertifikatBytes = IOUtils.toByteArray(getInputStreamForFileFromClasspath(\u0026#34;svarut_public.pem\u0026#34;)); return (X509Certificate) CertificateFactory.getInstance(\u0026#34;X509\u0026#34;).generateCertificate(new ByteArrayInputStream(sertifikatBytes)); } private static void krypterDokumentMedSertifikat(Dokument dokument, X509Certificate sertifikat) throws IOException { CMSDataKryptering kryptering = new CMSDataKryptering(); byte[] kryptertData = kryptering.krypterData(IOUtils.toByteArray(getInputStreamForFileFromClasspath(\u0026#34;test.pdf\u0026#34;)), sertifikat); dokument.setData(new DataHandler(new ByteArrayDataSource(kryptertData, dokument.getMimetype()))); } private static DataHandler loadPdfFromClasspath(String resource){ URL url = Thread.currentThread().getContextClassLoader().getResource(resource); return new DataHandler(url); } public static InputStream getInputStreamForFileFromClasspath(String resource){ return Thread.currentThread().getContextClassLoader().getResourceAsStream(resource); } }"
},
{
	"uri": "/svarut/integrasjon/kodeeksempelmottakerrest/",
	"title": "Kodeeksempel MottaksserviceV1",
	"tags": [],
	"description": "",
	"content": " Last ned komplett kodeeksempel\nMaven dependencies \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;org.apache.httpcomponents\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;httpclient\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;4.3.5\u0026lt;/version\u0026gt; \u0026lt;/dependency\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;org.apache.httpcomponents\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;httpmime\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;4.3.5\u0026lt;/version\u0026gt; \u0026lt;scope\u0026gt;compile\u0026lt;/scope\u0026gt; \u0026lt;/dependency\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;junit\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;junit\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;4.10\u0026lt;/version\u0026gt; \u0026lt;scope\u0026gt;test\u0026lt;/scope\u0026gt; \u0026lt;/dependency\u0026gt; Maven plugin \u0026lt;plugin\u0026gt; \u0026lt;groupId\u0026gt;org.apache.maven.plugins\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;maven-compiler-plugin\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;2.5.1\u0026lt;/version\u0026gt; \u0026lt;configuration\u0026gt; \u0026lt;source\u0026gt;1.7\u0026lt;/source\u0026gt; \u0026lt;target\u0026gt;1.7\u0026lt;/target\u0026gt; \u0026lt;encoding\u0026gt;UTF-8\u0026lt;/encoding\u0026gt; \u0026lt;/configuration\u0026gt; \u0026lt;/plugin\u0026gt; Kall av tjenesten public class TestMottakerService { public static String host = \u0026#34;https://svarut.ks.no\u0026#34;; public static String mottakerid = \u0026#34;AAAAAAA-AAAA-AAAA-AAAA-AAAAAAAAAAAA\u0026#34;; public static String passord = \u0026#34;AAAAAAAAAAA^AAAAAAAA(BBBBBBBBBBBB.BBBBBBBBB\u0026#34;; public static String forsendelsesId = \u0026#34;BBBBBBB-BBBB-BBBB-BBBB-BBBBBBBBBBBB\u0026#34;; @Test public void testMottakerServiceHentNyeForsendelser(){ String urlHentNyeForsendelser = \u0026#34;/tjenester/svarinn/mottaker/\u0026#34;+mottakerid+\u0026#34;/hentNyeForsendelser\u0026#34;; HttpGet request1 = new HttpGet(host+urlHentNyeForsendelser); System.out.println(\u0026#34;Tester pendingForsendelser\u0026#34;); int statusCode = MottakerService.executeHttpsRequest(request1, mottakerid, passord); Assert.assertEquals(\u0026#34;Forventet statuskode 200 fikk \u0026#34;+statusCode, 200, statusCode); } @Test public void testMottakerServiceHentForsendelseFil(){ String urlForsendelseFiler = \u0026#34;/tjenester/svarinn/forsendelse/\u0026#34;+forsendelsesId; HttpGet request2 = new HttpGet(host+urlForsendelseFiler); System.out.println(\u0026#34;Tester getForsendelseFil\u0026#34;); int statusCode = MottakerService.executeHttpsRequest(request2, mottakerid, passord); Assert.assertEquals(\u0026#34;Forventet statuskode 200 fikk \u0026#34;+statusCode, 200, statusCode); } @Test public void testMottakerServiceKvitterMottak(){ String urlKvitterMottak = \u0026#34;/tjenester/svarinn/kvitterMottak/forsendelse/\u0026#34;+forsendelsesId; HttpPost request3 = new HttpPost(host+urlKvitterMottak); System.out.println(\u0026#34;Tester kvitterMottak\u0026#34;); int statusCode = MottakerService.executeHttpsRequest(request3, mottakerid, passord); Assert.assertEquals(\u0026#34;Forventet statuskode 200 fikk \u0026#34;+statusCode, 200, statusCode); } }`  Underliggende klient public static void executeHttpsRequest(HttpRequestBase request, String mottakerid, String passord){ DefaultHttpClient client = getDefaultClient(); CredentialsProvider credentialsProvider = new BasicCredentialsProvider(); credentialsProvider.setCredentials( AuthScope.ANY, new UsernamePasswordCredentials(mottakerid, passord)); client.setCredentialsProvider(credentialsProvider); try{ HttpResponse response = client.execute(request); byte[] responseBody = EntityUtils.toByteArray(response.getEntity()); if(response.getStatusLine().getStatusCode() != HttpStatus.SC_OK){ System.err.println(\u0026#34;HTTP kallet feilet med kode: \u0026#34; + response.getStatusLine()); } else { System.out.println(\u0026#34;HTTP kallet suksess med kode: \u0026#34; + response.getStatusLine()); System.out.println(\u0026#34;Respons har data av type \u0026#34;+response.getEntity().getContentType()); } System.out.println(\u0026#34;Respons meldingen er:\u0026#34;); System.out.println(new String(responseBody)); System.out.println(); } catch (ClientProtocolException e) { System.err.println(\u0026#34;Fatal protocol violation: \u0026#34; + e.getMessage()); e.printStackTrace(); } catch (IOException e) { System.err.println(\u0026#34;Fatal transport error: \u0026#34; + e.getMessage()); e.printStackTrace(); } finally { request.releaseConnection(); } }` "
},
{
	"uri": "/svarut/konfigurasjon-av-svarut/",
	"title": "Konfigurasjon av SvarUT",
	"tags": [],
	"description": "",
	"content": " Konfigurasjon av SvarUt Etter at det er signert avtale med KS om bruk av SvarUt oversendes en veiledning i konfigurasjon av tjenesten:\nKonfigurasjon av SvarUt\nInformasjon på nettstedet https://svarut.wordpress.com er i beregnet på kommuner og andre virksomheter som har tegnet avtale om bruk av SvarUt. Informasjon om tilgang finnes på https://svarut.ks.no/hjelp/.\n"
},
{
	"uri": "/svarut/integrasjon/mottaksservice-rest/",
	"title": "MottakService v1",
	"tags": [],
	"description": "",
	"content": " Her beskrives funksjonalitet for Mottaksservice V1. For å sikre bakoverkompatibilitet for klientene så vil denne versjonen ikke endres.\nBruk av SvarInn til GeoIntegrasjon eksempel kode ligger her: https://github.com/ks-no/svarut-sak-mottak\nTilgang Tjenesten bruker HTTP Basic autentication med brukernavn og generert service-passord. Mottakersystem opprettes av KS-SvarUt administrator og service-passordet genereres av person med tilgang via mottakersystem-siden. Dersom autentiseringen feiler returneres HTTP-status 401 Unauthorized, og ukjent URL gir HTTP-status 404. Detaljerte feilmeldinger følger også ved feil.\nTjenester Forsendelser er tilgjengelig for direkte import til sakssystem i 2 timer. Dersom forsendelsene ikke er lastet ned til sakssystemet innen denne fristen går forsendelsene videre i det normale løpet med varsling i Altinn og til slutt printing.\nTjenestene er tilgjengelige via https://svarut.ks.no/tjenester/svarinn/\nhentNyeForsendelser (GET) https://svarut.ks.no/tjenester/svarinn/mottaker/hentNyeForsendelser\nHenter nye forsendelser for autentisert mottaker (basert på angitt mottaker). En vellykket forespørsel returnerer en liste av forsendelser (JSON). Dersom ingen forsendelser er tilgjengelig sendes en tom liste. Her følger et eksempel på en forsendelse.\n  [{ \"avsender\": { \"adresselinje1\": \"Første adresselinje\", \"adresselinje2\": \"Andre adresselinje\", \"adresselinje3\": \"Tredje adresselinje\", \"navn\": \"Tester testmann\", \"poststed\": \"Teststad\", \"postnr\": \"3333\" }, \"mottaker\": { \"adresse1\": \"Første adresselinje\", \"adresse2\": \"Andre adresselinje\", \"adresse3\": null, \"postnr\": \"5258\", \"poststed\": \"Blomsterdalen\", \"navn\": \"Orgnavn\", \"land\": \"Norge\", \"orgnr\": \"999888777\", //Eller fnr utfylt \"fnr\": \"22334455566\" }, \"id\": \"AAAAAAA-AAAA-AAAA-AAAA-AAAAAAAAAAAA\", \"tittel\": \"En tittel\", \"date\": 1412668736853, //millis since epoch \"metadataFraAvleverendeSystem\": { \"sakssekvensnummer\": 0, \"saksaar\": 0, \"journalaar\": 0, \"journalsekvensnummer\": 0, \"journalpostnummer\": 0, \"journalposttype\": \"U\", \"journalstatus\": null, \"journaldato\": null, \"dokumentetsDato\": null, \"tittel\": null, \"saksBehandler\": null, \"ekstraMetadata\": [ { \"key\": null, \"value\": null } ] }, \"metadataForImport\": { \"sakssekvensnummer\": 0, \"saksaar\": 0, \"journalposttype\": null, \"journalstatus\": \"I\", \"dokumentetsDato\": \"2014-10-21T09:30:13.310+02:00\", //ISO 8601 \"tittel\": null }, \"status\": \"Akseptert\", \"niva\": \"3\", \"filmetadata\": [ { \"filnavn\": \"dokument-d1c6d795.pdf\", \"mimetype\": \"application/pdf\", \"sha256hash\": \"caaa6a09e4b5ad571c596dd31fb93689d402834a1b92ff660abeb59c534c088e\", \"dokumentType\": null, \"size\": 234563 # 0 hvis ukjent ellers størrelse i bytes. } ], \"svarSendesTil\": { \"adresse1\": \"Første adresselinje\", \"adresse2\": \"Andre adresselinje\", \"adresse3\": null, \"postnr\": \"5258\", \"poststed\": \"Blomsterdalen\", \"navn\": \"Orgnavn\", \"land\": \"Norge\", \"orgnr\": \"999888777\", //Eller fnr utfylt \"fnr\": \"22334455566\" }, \"svarPaForsendelse\": \"BBBBBB-BBBB-CCCC-BBBB-BBBBBBBBBB\", \"forsendelseType\": \"forsendelseType sett av avsender(heter dokumentType i v5 av servicen)\", \"eksternRef\": \"en ref fra avsender\", \"downloadUrl\": \"https://svarut.ks.no/tjenester/svarinn/forsendelse/AAAAAAA-AAAA-AAAA-AAAA-AAAAAAAAAAAA\" }]  Hvis du får en zip fil i downloadUrlen, inneholder filmetadata mimetype på filene inne i zip fila.  hentForsendelsefil (GET) URL for å hente forsendelser er oppgitt i downloadUrl-feltet i JSON-resultatet fra hentNyeForsendelser.\nHenter filen for en gitt forsendelse. Kun én fil returneres. Hvis forsendelsen består flere filer er de enten pakket i en samlet PDF eller en .zip fil. Husk at filene kan være store, vi anbefaler å bruke en stream for mottak. MIME-type og filnavn står i headeren. Filen er kryptert med den offentlige nøkkelen til mottakersystemet og må dekrypteres etter nedlasting.\n  Felt Beskrivelse Validering     Forsendelsesid Identifikator som unikt identifiserer en forsendelse. Må være utfylt    settForsendelseMottatt (POST) https://svarut.ks.no/tjenester/svarinn/kvitterMottak/forsendelse/{forsendelseid}\nEtter mottatt forsendelse kvitteres den ut fra importtjenesten. Forsendelsesstatus endres til lest slik at varsel ikke sendes til Altinn. Forsendelsen blir heller ikke sendt til print siden den er mottatt.\n  Felt Beskrivelse Validering     Forsendelsesid Identifikator som unikt identifiserer en forsendelse. Må være utfylt    settForsendelseMottakFeilet (POST) https://svarut.ks.no/tjenester/svarinn/mottakFeilet/forsendelse/{forsendelseid}\nHvis mottak av forsendelse feilet, kan dette meldes tilbake til SvarUt. Dette vil da framkomme i loggen til avsender.\n   Felt Beskrivelse Validering     Forsendelsesid Identifikator som unikt identifiserer en forsendelse. Må være utfylt   feilmelding Tekst som sier hva som er feil. Må være utfylt   permanent Kan være permanent eller middlertidig. Hvis feilen er ikke mulig å fikse kan den markeres som permanent. Feilen som er markert permanent blir sent via annen kanal.Hvis forsendelsen er kun Digital og markert som permanentfeil vil den velge annen kanal og ikke blir varslet hvis forsendelsen ikke blir hentet. Normal varselmail for ikke hentede forsendelser via SvarInn blir ikke sendt. Må være utfylt    Json body:  { \u0026ldquo;feilmelding\u0026rdquo;:\u0026ldquo;En god feilmelding som mennesker kan lese\u0026rdquo;, \u0026ldquo;permanent\u0026rdquo;:true }  Permanent true vil si at mottaker aldri vil kunne klare å hente denne forsendelsen, den vil da gå videre og prøvd å levert via andre kanaler.\n"
},
{
	"uri": "/svarut/signeringstjeneste/",
	"title": "Signeringstjeneste",
	"tags": [],
	"description": "",
	"content": " Aktivering Avtale om bruk av signeringstjenesten må gjøres med Difi og forutsetter at dere allerede har avtale om SDP. Når avtalene er inngått må dere aktivere tjenesten inne på konfigurasjon under SDP-fanen.\n\nAPI Bruker operasjonen sendForsendelse, i ForsendelseServiceV7 eller senere.\nFølgende eksisterende felter må fylles ut:\n /sendForsendelse/forsendelse/krevNiva4Innlogging - Angir hvilket nivå som skal brukes på signeringen /sendForsendelse/forsendelse/svarSendesTil[@Type=organisasjon]/orgnr - Organisasjonsnummer til enhenten som skal ha det signerte dokumentet i retur /sendForsendelse/forsendelse/mottaker[@Type=privatPerson]/fodselsnr - Fødselsnummer på mottaker av signeringsoppdraget  Følgende nye felter må også fylles ut:\n /sendForsendelse/forsendelse/signeringUtloper - Angi hvor lenge signeringsoppdraget er gyldig, minimum 1 dag. /sendForsendelse/forsendelse/signaturtype - Velge mellom autentisert eller avansert signering. /sendForsendelse/forsendelse/dokumenter/skalSigneres - Markere ett dokument som inngår i signeringsoppdraget  Via send forsendelse Brukergrensesnittet er oppdatert slik at man kan markere et dokument og angi utløpsdato.\n\nSekvensdiagrammer Fra fagsystem via Svarut til innbygger Innføringen av signeringsoppdrag gir ingen endringer i oppførsel utover validering. Varslig vil gå ut til Altinn eller SDP dersom innbygger ikke har reservert seg. Dersom innbygger ikke har åpnet Altinn innen lesefristen vil brev gå ut i posten.\nInnbygger kan signere elektronisk frem til gyldigheten på signeringsoppdraget utløper, selv om brevet er sendt i posten.\nFra innbygger via Digipost og Svarut til fagsystem Innbygger logger på Altinn/SDP og trykker på signeringslenken som er oppgitt i meldingen. Dette er en lenke til Svarut. Svarut vil validere og sjekke at det er et gyldig signeringsoppdrag.\nInnbygger får opp dokumentet og kan velge mellom å signere eller avvise. Dersom innbygger signerer opprettes det en ny forsendelse til det organisasjonsnummeret som er oppgitt i forsendelsen.\nDersom innbygger avviser oppdraget vil oppdraget ikke være mulig å signere på nytt. Dersom innbygger avbryter (lukker nettleser e.l.) er det likevel mulig å signere gitt at gyldigheten på signeringsoppdraget ikke er utløpt.\nOppdragsgiver vil bare få forsendelse i retur dersom mottaker signerer forsendelsen og kan sjekke status på om oppdraget er avvist.\n"
},
{
	"uri": "/svarut/forsendelser-og-sikkerhet/",
	"title": "Sikkerhet",
	"tags": [],
	"description": "",
	"content": " Generelt om forsendelser  Forsendelser kan, men må ikke, krypteres før de sendes inn til SvarUt Forsendelsesfiler lagres kryptert på SvarUt sine servere Forsendelsesfiler dekrypteres i det mottaker laster ned filen, med mindre det er e Forsendelser som lastes ned direkte til mottagende (svarinn) dekrypteres før de blir importert til sakssystemet, men overføres kryptert. Forsendelsesfiler som blir lastet ned av mottaker dekrypteres ellers i det de overføres til mottaker.  Forsendelser på nivå 4 Det er nå mulig å sende forsendelser som inneholder sensitive persondata via SvarUt (ikke gradert informasjon). Dette kan være brev som sendes fra sikker sone.\n En nivå 4-forsendelse må krypteres hos avgivende system før den sendes til SvarUt. Forsendelsen behandles på samme måte som alle andre forsendelser og forsendelsesfilen vil lagres kryptert på disk. Ingen andre enn mottaker har tilgang til forsendelsesfilen (heller ikke superadministratorer eller lokale administratorer hos avsender).  "
},
{
	"uri": "/svarut/svarinn-mottakservice/",
	"title": "SvarInn - Mottaksservice",
	"tags": [],
	"description": "",
	"content": " Mottaksservice gjør det mulig å laste ned og kvittere ut forsendelser før de varsles gjennom Altinn og sendes til eventuell printing.\nHva er Mottaksservice? Primært brukes Mottaksservice til å automatisere nedlasting og import av forsendelser direkte i sakssystemer. Fra en forsendelse er mottatt i SvarUt er den tilgjengelig for nedlasting via mottaksservicen. Dersom forsendelsen ikke blir lastet ned innen 2 timer vil mottakersystem få en advarsel mail.\nMottaksservice gir mulighet for å laste ned sensitive forsendelser. Dette betyr at mottaker må legge inn sitt offentlige sertifikat i SvarUt, og bruke sin private nøkkel til å dekryptere forsendelsesfilene som blir lastet ned. Alle forsendelser blir sendt på denne måten selv, uavhengig av om forsendelsen er nivå 3 eller 4.\nMottaksservicen består av 3 tjenester (se også detaljert beskrivelse):\n hentNyeForsendelser - Henter nye forsendelser som er klar for import. getForsendelsefil - Henter filen for en gitt forsendelse, enten som PDF eller zipfil. Filen vil være kryptert og må dekrypteres etter nedlasting. kvitterMottak - Kvitterer ut en gitt forsendelse. Forsendelsesstatus vil bli satt til lest. Dette stopper varsel til Altinn og senere printing.  Sakssystemer må klargjøres for bruk av mottaksservicen. SvarUt-teamet har laget en modul som kan brukes for noen leverandører, samt fungere som et eksempel på hva som er nødvendig for integrasjon med SvarUt. Denne modulen er tilgjengelig her.\nHvordan bruke Mottaksservice? Mottaksservicen konfigureres under menypunktet Mottakersystem. Her kan administrator opprette nye mottakersystem og gi personer tilgang til mottakersystemet. Deretter kan personene som har fått tilgang selv utføre resten av stegene. De første 3 stegene utføres kun én gang, steg 4 en gang som en test. De siste tre stegene bør settes opp som en regelmessig jobb som kjøres hvert 15. minutt.\n Opprett mottakersystem  En administrator oppretter et mottakersystem som skal ha tilgang til forsendelser. I dette steget legges det inn minst én person som har tilgang til dette mottakersystemet. Personen blir gitt tilgang basert på fødselsnummeret sitt.\n Legg til organisasjon  Personen som ble gitt tilgang i punktet over legger inn organisasjoner som mottakersystemet skal ha tilgang til. SvarUt sjekker om personen har tilgang til organisasjonsnummeret ved å spørre Altinn.\n Generer servicepassord  Personen genererer et servicepassord. Dette passordet brukes for å validere mottakersystemet mot automatisk importtjeneste. Dette gjøres via mottakersystem-siden, under \u0026ldquo;Service\u0026rdquo; fanen for et mottakersystem. Mottakersystemet må bruke brukernavnet og servicepassordet for autentisering ved hver nedlasting.\n Registrér offentlig sertifikat  Personen må laste opp mottakersystemets offentlige sertifikat. Dette gjøres også via mottakersystem-siden, under \u0026ldquo;Service\u0026rdquo; fanen for et mottakersystem. Den private nøkkelen brukes i mottakersystemet for å dekryptere forsendelsesfiler etter nedlasting (se her for et eksempel på integrasjon).\n Send forsendelse  Opprett minst en forsendelse til en organisasjon som personen har tilgang til.\n Hent nye forsendelser  Kall automatisk importtjeneste og oppgi brukernavn og servicepassord ved autentisering. Alle forsendelser mottakersystemet har tilgang til returneres som en liste. Merk at listen ikke inneholder selve filene, kun informasjon om forsendelsen.\n Hent forsendelsefil  Etter autentisering og nedlasting av forsendelser, oppgi forsendelseid til en forsendelse til importtjenesten. Dette kallet returnerer selve filen enten som zip-fil eller som PDF.\n Kvittér for mottak  Siste steg er å kvittere ut forsendelsen. Oppgi forsendelsesid til importtjenesten, og forsendelsen markeres som lest.\nForsendelsesflyt i SvarUt "
},
{
	"uri": "/svarut/svarut-svarinn-adressering/",
	"title": "SvarUt - SvarInn adressering",
	"tags": [],
	"description": "",
	"content": " Tidligere hadde vi kun orgnr-adressering på forsendelser. Nå har SvarUt fått støtte for ForsendelseType. ForsendelseType skal beskrive hvilken type forsendelse dette er. Det er KS som styrer hvilken typer en kan benytte til adressering, hvis det er ønskelig med ny type sendes ønske om dette til svarut@ks.no.\nMottakersystem kan nå filtrere på 3 felt, orgnr, forsendelseType og nivå. For å konfigurere to mottakersystem på samme orgnr, kan en derfor filtrere videre på forsendelseType.\nEksempel system som ikke kan motta nivå4 dokument konfigureres da med. - 999888777, Alle forsendelsetyper, 3\nDette systemet vil da kun motta nivå3 forsendelser, hvis kommunen har et annet system som kan motta nivå4 kan dette konfigureres slik: - 999888777, Alle forsendelsetyper, 4\nEksempel fagsystem og arkivsystem. Fagsystemet skal ha forsendelser av typen ks.byggesøknad, mens andre brev til kommunen skal i arkivsystemet. Arkivsystemet vil da konfigureres slik - 999777888, Alle forsendelsetyper, alle nivå\nFagsystemet - 999777888, ks.byggesøknad, alle nivå\nDa vil arkivsystemet få alt utenom ks.byggesøknad forsendelser som blir levert til fagsystemet.\nIntegrasjoner Sending SvarUt De som sender meldinger til SvarUt kan sette på forsendelseType.\nMottak SvarInn Trenger ikke gjør noen endringer, filtrering vil skje på SvarUt i konfigurasjonen, listen over forsendelser vil være de mottakersystemet skal motta.\n"
},
{
	"uri": "/_header/",
	"title": "",
	"tags": [],
	"description": "",
	"content": ""
},
{
	"uri": "/categories/",
	"title": "Categories",
	"tags": [],
	"description": "",
	"content": ""
},
{
	"uri": "/fiks-platform/tjenester_under_utvikling/dokumentlager/",
	"title": "Dokumentlager",
	"tags": [],
	"description": "",
	"content": "Dokumentlager er en ny tjeneste som lanseres på fiks-plattformen. Den lar kommunen og andre fiks-organisasjoner laste opp filer, og definerer hvilke aktører som skal autoriseres for tilgang til denne filen.\nDokumentlageret vil bli benyttet av flere fiks-tjenester: SvarUt, SvarInn, Digisos og Meldingsboks, men det kan også benyttes i en fiks-organisasjons egne integrasjoner.\n"
},
{
	"uri": "/svarut/integrasjon/",
	"title": "Integrasjon mot SvarUt",
	"tags": [],
	"description": "",
	"content": " For utsending av forsendelser via KS-SvarUt benyttes en SOAP basert web-service. Denne servicen mottar forsendelsen og relevante metadata, og besørger videre ekspedering via elektroniske meldingstjenester eller vanlig post.\nFor å sikre bakoverkompabilitet versjoneres servicen. Når grensesnittet endres deployes en ny versjon slik at eksisterende klienter selv kan velge når de ønsker å ta i bruk ny versjon. Se tabell under for hvilke versjoner som til enhver tid er støttet. Hver versjon dokumenteres separat. Deprecated bør ikke brukes i nye integrasjoner.\nKall mot svarut, timer ut hvis de tar meir enn 15 minutt. Derfor kan det være lurt å ha timeout på tilkoplingen som er lenger enn dette. Da får avsender ikke timeout uten at den er initiert av SvarUt. Ellers kan avsender risikere å ikke få forsendelse id på forsendelser som har gått ok.\n   Versjon WSDL Status Endringer     ForsendelseServiceV1 WSDL Deprecated NA   ForsendelseServiceV2 WSDL Deprecated Støtte for mottakeradresse ihht NOARK5 (inkl. Land)Ny metode for å hente historikk for en spesifikk forsendelseKun digital levering (dvs. dokumenter som ikke skal til print)Støtte for giroark i forsendelseNy metode for å sette status lest fra eksternt system   ForsendelseServiceV3 WSDL Deprecated Støtte for lenker i forsendelserStøtte for metadata til bruk i automatisk import service   ForsendelseServiceV4 WSDL Deprecated Støtte for krypterte forsendelserUtvidede metadata til bruk i automatisk import serviceStøtte forsendelser som krever nivå4-innlogging   ForsendelseServiceV5 WSDL Deprecated Kan fylle ut SvarSendesTil for å gi informasjon om hvem svar på forsendelsen skal sendes til, dette blir brukt som avsender adresse på postlagt brev også.Kan spesifisere om dette er et svar på en tidligere forsendelse.Lagt til dokumentType for å si hvilken type forsendelse dette er(blir renamet til forsendelseType i v7)Eksternref en id som kan brukes til å finne forsendelser   ForsendelseServiceV6 WSDL Deprecated Kan legge med svar på forsendelse link, slik at mottaker kan svare på forsendelsen.Søke opp forsendelseid basert på eksternref   ForsendelseServiceV7 WSDL Deprecated dokumentType heter nå forsendelsetypeStøtte for difi sin signeringstjeneste. Beskrivelse av Signeringstjeneste   ForsendelseServiceV8 WSDL Stabil dokumentType lagt til på hver fil. Denne er tilgjengelig i Svarinn. Kan hente liste med mottakersystem for et orgnrKan hente forsendelseTyper som kan brukes i SvarUt   ForsendelseServiceV9 WSDL Stabil Hente ut signeringshistorikk på en forsendelseDokument har fått ekskluderesFraPrint, da er ikke filen med i print av forsendelsen. Brukes typisk til filer som kun er interesange om forsendelsen lastes ned digitalt. Xml, lyd, video filer osv.    Nedlasting av forsendelser direkte til sakssystem Sakssystemer kan kalle Svarut for å laste ned forsendelser direkte ved å bruke enten en REST-tjeneste eller en SOAP web-service.\nFor å sikre bakoverkompabilitet versjoneres servicen. Når grensesnittet endres deployes en ny versjon slik at eksisterende klienter selv kan velge når de ønsker å ta i bruk ny versjon. Se tabell under for hvilke versjoner som til enhver tid er støttet. Hver versjon dokumenteres separat.\n   Dokumentasjon Status Endringer     MottaksService V1 REST Stabil NA    "
},
{
	"uri": "/fiks-platform/",
	"title": "KS FIKS plattform",
	"tags": [],
	"description": "Description",
	"content": "KS-Fiks er en felles tjenesteplattform for norske kommuner. Tjenester retter seg direkte mot innbyggere (som Edialog eller MinSide), mot kommnalt ansatte (for eksempel register-oppslag og SMS utsending), eller eksisterer for å fasilitere integrasjon mellom fagsystemer (som SvarInn og DokumentArkiv). Tjenestene deler et autorisasjonslag basert på Altinn og ID-Porten, og kan konfigureres gjennom et felles webgrensesnitt hvor målet er selvbetjening: hver enklet kommune skal kunne aktivere og tilpasse tjenester uten ytterligere bistand.\n"
},
{
	"uri": "/",
	"title": "KS Fiks dokumentasjon",
	"tags": [],
	"description": "",
	"content": " KS Fiks dokumentasjon Her finner du informasjon laget for de som skal lage integrasjoner mot Fiks og SvarUt.\nHvis du finner noe som er feil, eller som ikke er beskrevet godt nok send en epost til fiks-utvikling@ks.no eller lage en pull request på github. https://github.com/ks-no/ks-no.github.io\nFor å abonnere på endringer i dokumentasjonen RSS-feed\n"
},
{
	"uri": "/fiks-platform/konfigurasjon/",
	"title": "Konfigurasjon",
	"tags": [],
	"description": "",
	"content": " Alle tjenester på fiks-platformen konfigureres på samme sted: fiks-konfigurasjon. Her kan kommunen:\nAktivere og tilpasse tjenester Administrere brukere Få oversikt over bruk og fakturering "
},
{
	"uri": "/svarut/",
	"title": "SvarUt",
	"tags": [],
	"description": "",
	"content": "Dokumentasjonen av SvarUt finnes på flere nettsteder:\n http://www.ks.no/svarut/ - åpen, generell informasjon https://svarut.wordpress.com - informasjon for kunder (kommuner, fylkeskommuner og andre virksomheter som har tegnet avtale med KS) https://svarut.ks.no - informasjon om tilgang til svarut.wordpress.com og lenker til andre nettsteder https://ks-no.github.io/svarut/ - denne dokumentasjonen, beregnet på utviklere og leverandører  "
},
{
	"uri": "/tags/",
	"title": "Tags",
	"tags": [],
	"description": "",
	"content": ""
},
{
	"uri": "/fiks-platform/tjenester/",
	"title": "Tjenester",
	"tags": [],
	"description": "",
	"content": ""
},
{
	"uri": "/fiks-platform/tjenester_under_utvikling/",
	"title": "Tjenester under utvikling",
	"tags": [],
	"description": "",
	"content": ""
}]