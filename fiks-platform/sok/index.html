<!DOCTYPE html>
<html>
  <head>
    <title>KS Fiks</title>
    
      <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="generator" content="Hugo 0.34" />

<title>MinSide Søk :: KS Fiks</title>
<link rel="shortcut icon" href="/images/favicon.png" type="image/x-icon" />
<link href="/css/nucleus.css" rel="stylesheet">
<link href="/css/font-awesome.min.css" rel="stylesheet">
<link href="/css/hybrid.css" rel="stylesheet">
<link href="/css/featherlight.min.css" rel="stylesheet">
<link href="/css/auto-complete.css" rel="stylesheet">
<link href="/theme-original/style.css" rel="stylesheet">

<link rel="stylesheet" href="/css/bootstrap.min.css">
<script src="/js/jquery-2.x.min.js"></script>
<style type="text/css">
  :root #header + #content > #left > #rlblock_left {
    display:none !important;
  }
</style>
<meta name="description" content="">


    
  </head>
  <body data-url="/fiks-platform/sok/">
    
      <div id="headermain"></div>
<nav id="sidebar" class="">



<div class="highlightable">
  <div id="header-wrapper">
    <div id="header">
      
	
  
    <p><img src="/images/ks-logo.svg" width="30%"> FIKS</p>

  

    </div>
        <div class="searchbox">
		    <label for="search-by"><i class="fa fa-search"></i></label>
		    <input data-search-input id="search-by" type="text" placeholder="">
		    <span data-search-clear=""><i class="fa fa-close"></i></span>
		</div>
		<script type="text/javascript" src="/js/lunr.min.js"></script>
		<script type="text/javascript" src="/js/auto-complete.js"></script>
		<script type="text/javascript">
        
            var baseurl = "\/";
        
		</script>
		<script type="text/javascript" src="/js/search.js"></script>
  </div>

      <ul class="topics">
            <li data-nav-id="/" class="dd-item">
            <a href="/"><i class="fa fa-fw fa-home"></i></a>
            </li>
    <li data-nav-id="/fiks-platform/" class="dd-item parent haschildren
        ">
      <div>
      <a href="/fiks-platform/">KS FIKS platform</a>
            <i class="fa fa-angle-down fa-lg category-icon"></i>
      </div>
        <ul>
    <li data-nav-id="/fiks-platform/integrasjon/" class="dd-item
        ">
      <div>
      <a href="/fiks-platform/integrasjon/">Integrasjon</a>
      </div>
    </li>
      <li data-nav-id="/fiks-platform/sok/" class="dd-item active">
        <div>
          <a href="/fiks-platform/sok/">
            MinSide Søk
          </a>
        </div>
    </li>
      <li data-nav-id="/fiks-platform/sikkerhet/" class="dd-item">
        <div>
          <a href="/fiks-platform/sikkerhet/">
            Sikkerhet og personvern
          </a>
        </div>
    </li>
        </ul>
    </li>
    <li data-nav-id="/svarut/" class="dd-item haschildren
        ">
      <div>
      <a href="/svarut/">SvarUt</a><i class="fa fa-angle-right fa-lg category-icon"></i>
      </div>
        <ul>
      <li data-nav-id="/svarut/edialog/" class="dd-item">
        <div>
          <a href="/svarut/edialog/">
            Edialog
          </a>
        </div>
    </li>
    <li data-nav-id="/svarut/integrasjon/" class="dd-item haschildren
        ">
      <div>
      <a href="/svarut/integrasjon/">Integrasjon mot SvarUt</a><i class="fa fa-angle-right fa-lg category-icon"></i>
      </div>
        <ul>
      <li data-nav-id="/svarut/integrasjon/forsendelseservicev1/" class="dd-item">
        <div>
          <a href="/svarut/integrasjon/forsendelseservicev1/">
            ForsendelseServiceV1
          </a>
        </div>
    </li>
      <li data-nav-id="/svarut/integrasjon/forsendelseservicev2/" class="dd-item">
        <div>
          <a href="/svarut/integrasjon/forsendelseservicev2/">
            ForsendelseServiceV2
          </a>
        </div>
    </li>
      <li data-nav-id="/svarut/integrasjon/forsendelseservicev3/" class="dd-item">
        <div>
          <a href="/svarut/integrasjon/forsendelseservicev3/">
            ForsendelseServiceV3
          </a>
        </div>
    </li>
      <li data-nav-id="/svarut/integrasjon/forsendelseservicev4/" class="dd-item">
        <div>
          <a href="/svarut/integrasjon/forsendelseservicev4/">
            ForsendelseServiceV4
          </a>
        </div>
    </li>
      <li data-nav-id="/svarut/integrasjon/forsendelseservicev5/" class="dd-item">
        <div>
          <a href="/svarut/integrasjon/forsendelseservicev5/">
            ForsendelseServiceV5
          </a>
        </div>
    </li>
      <li data-nav-id="/svarut/integrasjon/forsendelseservicev6/" class="dd-item">
        <div>
          <a href="/svarut/integrasjon/forsendelseservicev6/">
            ForsendelseServiceV6
          </a>
        </div>
    </li>
      <li data-nav-id="/svarut/integrasjon/forsendelseservicev7/" class="dd-item">
        <div>
          <a href="/svarut/integrasjon/forsendelseservicev7/">
            ForsendelseServiceV7
          </a>
        </div>
    </li>
      <li data-nav-id="/svarut/integrasjon/forsendelseservicev8/" class="dd-item">
        <div>
          <a href="/svarut/integrasjon/forsendelseservicev8/">
            ForsendelseServiceV8
          </a>
        </div>
    </li>
      <li data-nav-id="/svarut/integrasjon/forsendelseservicev9/" class="dd-item">
        <div>
          <a href="/svarut/integrasjon/forsendelseservicev9/">
            ForsendelseServiceV9
          </a>
        </div>
    </li>
      <li data-nav-id="/svarut/integrasjon/mottaksservice-rest/" class="dd-item">
        <div>
          <a href="/svarut/integrasjon/mottaksservice-rest/">
            MottakService v1
          </a>
        </div>
    </li>
        </ul>
    </li>
      <li data-nav-id="/svarut/konfigurasjon-av-svarut/" class="dd-item">
        <div>
          <a href="/svarut/konfigurasjon-av-svarut/">
            Konfigurasjon av SvarUT
          </a>
        </div>
    </li>
      <li data-nav-id="/svarut/signeringstjeneste/" class="dd-item">
        <div>
          <a href="/svarut/signeringstjeneste/">
            Signeringstjeneste
          </a>
        </div>
    </li>
      <li data-nav-id="/svarut/forsendelser-og-sikkerhet/" class="dd-item">
        <div>
          <a href="/svarut/forsendelser-og-sikkerhet/">
            Sikkerhet
          </a>
        </div>
    </li>
      <li data-nav-id="/svarut/svarinn-mottakservice/" class="dd-item">
        <div>
          <a href="/svarut/svarinn-mottakservice/">
            SvarInn - Mottaksservice
          </a>
        </div>
    </li>
      <li data-nav-id="/svarut/svarut-svarinn-adressering/" class="dd-item">
        <div>
          <a href="/svarut/svarut-svarinn-adressering/">
            SvarUt - SvarInn adressering
          </a>
        </div>
    </li>
        </ul>
    </li>



        <section id="shortcuts">
                <li class="" role=""><h3>More</h3><a href="https://github.com/ks-no/ks-no.github.io" target="_blank" rel="noopener"><i class='fa fa-github'></i> <label>Github repo</label></a></li>
        </section>

    <hr />
    <li></li>
    
    </ul>

 <section id="footer">
    </section>
  </div>
</nav>



<section id="body">
<div id="overlay"></div>
<div class="padding highlightable">

  <div id="top-bar">
    
      
      
      
    <div id="top-github-link">
      <a class="github-link" href="https://github.com/ks-no/ks-no.github.io/edit/source/content/fiks-platform/sok.md" target="blank">
        <i class="fa fa-code-fork"></i>
        
      </a>
    </div><div id="breadcrumbs" itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
        <span id="sidebar-toggle-span">
          <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
            <i class="fa fa-bars"></i>
          </a>
        </span>
        <span id="toc-menu"><i class="fa fa-list-alt"></i></span>
        <span class="links">
        







 <a href='/'>KS Fiks dokumentasjon</a> > <a href='/fiks-platform/'>KS FIKS platform</a> > MinSide Søk

 

 

   
        </span>
    </div>
    
    
    <div class="progress">
        <div class="wrapper">
    <nav id="TableOfContents">
<ul>
<li>
<ul>
<li><a href="#indekseringstjeneste-api-spec-https-editor-swagger-io-url-https-ks-no-github-io-api-hendelse-indexer-api-json">Indekseringstjeneste <a href="https://editor.swagger.io/?url=https://ks-no.github.io/api/hendelse-indexer-api.json">(api-spec)</a></a></li>
<li><a href="#søketjeneste-api-spec-https-editor-swagger-io-url-https-ks-no-github-io-api-hendelse-indexer-api-json">Søketjeneste <a href="https://editor.swagger.io/?url=https://ks-no.github.io/api/hendelse-indexer-api.json">(api-spec)</a></a></li>
<li><a href="#webapplikasjon-test-https-minside-fiks-test-ks-no-meldingsboks-sok">Webapplikasjon <a href="https://minside.fiks.test.ks.no/meldingsboks/sok">(test)</a></a></li>
<li><a href="#svarut-integrasjon">SvarUt Integrasjon</a></li>
</ul></li>
</ul>
</nav>
        </div>
    </div>
    

  </div>


<div id="body-inner">
  
    <h1>MinSide Søk</h1>
  



    
    
    
    

<p><img src="/images/sok.png" alt="minside_sok" title="Minside Søk" /></p>

<p>Søk er en modul i min-side som består av en SPA (single page webapp), en søketjeneste, og en indekseringstjeneste. En integrasjon benytter indekseringsapi&rsquo;et for å tilgjengeliggjøre meldinger: hendelser, fakturaer, saker, journalposter, forsendelser, osv. En innbygger kan så benytte webapplikasjonen for å søke i disse.</p>

<p>Indeksering er integrert mot Fiks SvarUt; forsendelser fra SvarUt vil fremkomme i søket om dette er aktivert gjennom Fiks Konfigurasjon.</p>

<h2 id="indekseringstjeneste-api-spec-https-editor-swagger-io-url-https-ks-no-github-io-api-hendelse-indexer-api-json">Indekseringstjeneste <a href="https://editor.swagger.io/?url=https://ks-no.github.io/api/hendelse-indexer-api.json">(api-spec)</a></h2>

<p>Integrasjoner gjør hendelser tilgjengelige i søkemotoren ved å benytte indekserings-api&rsquo;et. Det er to primære endepunkt for dette, ett for å indeksere <em>grupper</em>, med eller uten hendelser, og ett for å legge en eller flere hendelser til en eksisterende gruppe.</p>

<p>For begge endepunkter gjelder fiks-platformens vanlige autentiseringsregler. I tilegg må integrasjonen har rett til å indeksere på vegne av  <em>fiks organisasjonen</em> som er satt som eier den aktuelle hendelsesgruppen. Det samme gjelder for indeksering av hendelser, men her må i tillegg hendelsen være eid av samme <em>fiks organisasjon</em> som det som er oppgitt på hendelsen.</p>

<p>Begge endepunkter støtter batch av opptil 5000 elementer, og integrasjonsutviklere anbefales å benytte denne funksjonaliteten, da det skaper vesentlig mindre trykk på systemet.</p>

<p>Noen viktige punkter:</p>

<ul>
<li>Innloggingsnivå er et obligatorisk felt både på gruppe og hendelser, og gruppens innloggingsnivå settes til det høyeste av gruppens nivå og nivået til alle hendelser i gruppen. Dvs. at hvis en gruppe har en hendelse med nivå 4, vil ikke gruppen eller gruppens hendelser fremkomme i et søk gjort med innloggingsnivp 3, selv om noen av disse hendelsene skulle ha nivå 3.</li>
<li>Dato er ikke et obligatorisk felt på gruppe, men det er obligatorisk på hendelser. Hvis ikke gruppen har dato vil dato bli satt til datoen til den første hendelsen i gruppen. Hvis gruppen er opprettet med en dato vil denne benyttes uavhengig av dato på gruppens hendelser.</li>
<li>Hvis man ikke har informasjon for å sette et felt (f.eks. om man ikke har &ldquo;avsender&rdquo; for en forsendelse) bør ikke feltet settes (i stede for å sette &ldquo;null&rdquo;, &ldquo;mangler&rdquo; eller lignende).</li>
<li>For <em>fiks organisasjon</em> og <em>enhet</em> kan man i tillegg til å sette identifikator også sette visningsnavn. Dette vil bli benyttet i webapplikasjonens grensesnitt og filter. Merk at hvis man endrer dette vil det nye navnet bare benyttes på grupper / hendelser som er indeksert etter endringen ble gjort. For å gjøre en fullstendig operasjon må hendelsene reindekseres.</li>
<li><em>Eksponert for</em> angir hvem som skal kunne se gruppen. Dette kan være endten et organisasjonsnummer eller et fødselsnummer. Merk at hver gruppe bare kan eksponeres for en person/org, hvis man ønsker at flere aktører skal kunne se samme informasjonen må gruppen indekseres flere ganger.</li>
</ul>

<h2 id="søketjeneste-api-spec-https-editor-swagger-io-url-https-ks-no-github-io-api-hendelse-indexer-api-json">Søketjeneste <a href="https://editor.swagger.io/?url=https://ks-no.github.io/api/hendelse-indexer-api.json">(api-spec)</a></h2>

<p>Grupper og hendelser som er indeksert gjennom api&rsquo;et over kan søkes frem gjennom søketjenesten. Søkeresultatet kan filtereres, pagineres, og sorteres, men i hovedsak er løsningen basert på fritekstsøk av all data i en gruppe / hendelse. På dags dato støttes ikke søk i dokumentinnhold, men det vurderes å utvide med denne funksjonaliteten.</p>

<p>Standardsøket benytter <em>relevans</em> som sorteringskriterie. Dette er en kombinasjon av hvor godt søket traff eventuelle søkeord, hvor gammel den aktuelle gruppen er, og eventuell &ldquo;boost&rdquo; som gruppen / hendelsen har blitt tildelt. Kriterier for boost vil varierer avhengig av hvilke elementer som finnes i resultatet, uleste forsendelser anses for eksempel som mer relevante enn leste.</p>

<p>Alle søk er også filtrert på innloggingsnivå. Et søk gjort med innlogging på nivå tre vil ikke returnere grupper som er satt til nivå fire, uavhengig av om disse gruppene traff på søket.</p>

<h2 id="webapplikasjon-test-https-minside-fiks-test-ks-no-meldingsboks-sok">Webapplikasjon <a href="https://minside.fiks.test.ks.no/meldingsboks/sok">(test)</a></h2>

<p>Webapplikasjonen benyttes for å la innbyggere søke i sine egne forsendelser, eller i forsendelser som er eksponert for en organisasjon de har en rolle i.</p>

<h2 id="svarut-integrasjon">SvarUt Integrasjon</h2>


    
    
          <footer class=" footline" >
	
</footer>
  </div>
</div>

<div id="navigation">
</div>

</section>
<div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
  <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
</div>    

<script src="/js/clipboard.min.js"></script>
<script src="/js/featherlight.min.js"></script>
<script src="/js/html5shiv-printshiv.min.js"></script>

<script src="/js/modernizr.custom.71422.js"></script>
<script src="/js/docdock.js"></script>
<script src="/theme-original/script.js"></script>


    

    
    

    
  </body>
</html>