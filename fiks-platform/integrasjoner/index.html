<!DOCTYPE html>
<html>
  <head>
    <title>KS Fiks</title>
    
      <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="generator" content="Hugo 0.34" />

<title>Integrasjonsutvikling :: KS Fiks</title>
<link rel="shortcut icon" href="/images/favicon.png" type="image/x-icon" />
<link href="/css/nucleus.css" rel="stylesheet">
<link href="/css/font-awesome.min.css" rel="stylesheet">
<link href="/css/hybrid.css" rel="stylesheet">
<link href="/css/featherlight.min.css" rel="stylesheet">
<link href="/css/auto-complete.css" rel="stylesheet">
<link href="/theme-original/style.css" rel="stylesheet">

<link rel="stylesheet" href="/css/bootstrap.min.css">
<script src="/js/jquery-2.x.min.js"></script>
<style type="text/css">
  :root #header + #content > #left > #rlblock_left {
    display:none !important;
  }
</style>
<meta name="description" content="">


    
  </head>
  <body data-url="/fiks-platform/integrasjoner/">
    
      <div id="headermain"></div>
<nav id="sidebar" class="">



<div class="highlightable">
  <div id="header-wrapper">
    <div id="header">
      
	
  
    <p><img src="/images/ks-logo.svg" width="30%"></p>

  

    </div>
        <div class="searchbox">
		    <label for="search-by"><i class="fa fa-search"></i></label>
		    <input data-search-input id="search-by" type="text" placeholder="">
		    <span data-search-clear=""><i class="fa fa-close"></i></span>
		</div>
		<script type="text/javascript" src="/js/lunr.min.js"></script>
		<script type="text/javascript" src="/js/auto-complete.js"></script>
		<script type="text/javascript">
        
            var baseurl = "\/";
        
		</script>
		<script type="text/javascript" src="/js/search.js"></script>
  </div>

      <ul class="topics">
            <li data-nav-id="/" class="dd-item">
            <a href="/"><i class="fa fa-fw fa-home"></i></a>
            </li>
    <li data-nav-id="/fiks-platform/" class="dd-item parent haschildren
        ">
      <div>
      <a href="/fiks-platform/">KS FIKS plattform</a>
            <i class="fa fa-angle-down fa-lg category-icon"></i>
      </div>
        <ul>
      <li data-nav-id="/fiks-platform/fullmakt/" class="dd-item">
        <div>
          <a href="/fiks-platform/fullmakt/">
            Fullmakter
          </a>
        </div>
    </li>
      <li data-nav-id="/fiks-platform/integrasjoner/" class="dd-item active">
        <div>
          <a href="/fiks-platform/integrasjoner/">
            Integrasjonsutvikling
          </a>
        </div>
    </li>
      <li data-nav-id="/fiks-platform/sikkerhet/" class="dd-item">
        <div>
          <a href="/fiks-platform/sikkerhet/">
            Sikkerhet og personvern
          </a>
        </div>
    </li>
      <li data-nav-id="/fiks-platform/tjeneste_meldingsboks/" class="dd-item">
        <div>
          <a href="/fiks-platform/tjeneste_meldingsboks/">
            Tjeneste - Meldingsboks
          </a>
        </div>
    </li>
        </ul>
    </li>
    <li data-nav-id="/svarut/" class="dd-item haschildren
        ">
      <div>
      <a href="/svarut/">SvarUt</a><i class="fa fa-angle-right fa-lg category-icon"></i>
      </div>
        <ul>
      <li data-nav-id="/svarut/edialog/" class="dd-item">
        <div>
          <a href="/svarut/edialog/">
            Edialog
          </a>
        </div>
    </li>
    <li data-nav-id="/svarut/integrasjon/" class="dd-item haschildren
        ">
      <div>
      <a href="/svarut/integrasjon/">Integrasjon mot SvarUt</a><i class="fa fa-angle-right fa-lg category-icon"></i>
      </div>
        <ul>
      <li data-nav-id="/fiks-platform/fullmakt/" class="dd-item">
        <div>
          <a href="/fiks-platform/fullmakt/">
            Fullmakter
          </a>
        </div>
    </li>
      <li data-nav-id="/fiks-platform/integrasjoner/" class="dd-item active">
        <div>
          <a href="/fiks-platform/integrasjoner/">
            Integrasjonsutvikling
          </a>
        </div>
    </li>
      <li data-nav-id="/fiks-platform/sikkerhet/" class="dd-item">
        <div>
          <a href="/fiks-platform/sikkerhet/">
            Sikkerhet og personvern
          </a>
        </div>
    </li>
      <li data-nav-id="/fiks-platform/tjeneste_meldingsboks/" class="dd-item">
        <div>
          <a href="/fiks-platform/tjeneste_meldingsboks/">
            Tjeneste - Meldingsboks
          </a>
        </div>
    </li>
        </ul>
    </li>
      <li data-nav-id="/svarut/konfigurasjon-av-svarut/" class="dd-item">
        <div>
          <a href="/svarut/konfigurasjon-av-svarut/">
            Konfigurasjon av SvarUT
          </a>
        </div>
    </li>
      <li data-nav-id="/svarut/signeringstjeneste/" class="dd-item">
        <div>
          <a href="/svarut/signeringstjeneste/">
            Signeringstjeneste
          </a>
        </div>
    </li>
      <li data-nav-id="/svarut/forsendelser-og-sikkerhet/" class="dd-item">
        <div>
          <a href="/svarut/forsendelser-og-sikkerhet/">
            Sikkerhet
          </a>
        </div>
    </li>
      <li data-nav-id="/svarut/svarinn-mottakservice/" class="dd-item">
        <div>
          <a href="/svarut/svarinn-mottakservice/">
            SvarInn - Mottaksservice
          </a>
        </div>
    </li>
      <li data-nav-id="/svarut/svarut-svarinn-adressering/" class="dd-item">
        <div>
          <a href="/svarut/svarut-svarinn-adressering/">
            SvarUt - SvarInn adressering
          </a>
        </div>
    </li>
        </ul>
    </li>



        <section id="shortcuts">
                <li class="" role=""><h3>More</h3><a href="https://github.com/ks-no/ks-no.github.io" target="_blank" rel="noopener"><i class='fa fa-github'></i> <label>Github repo</label></a></li>
        </section>

    <hr />
    <li></li>
    
    </ul>

 <section id="footer">
    </section>
  </div>
</nav>



<section id="body">
<div id="overlay"></div>
<div class="padding highlightable">

  <div id="top-bar">
    
      
      
      
    <div id="top-github-link">
      <a class="github-link" href="https://github.com/ks-no/ks-no.github.io/edit/source/content/fiks-platform/integrasjoner.md" target="blank">
        <i class="fa fa-code-fork"></i>
        
      </a>
    </div><div id="breadcrumbs" itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
        <span id="sidebar-toggle-span">
          <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
            <i class="fa fa-bars"></i>
          </a>
        </span>
        <span id="toc-menu"><i class="fa fa-list-alt"></i></span>
        <span class="links">
        







 <a href='/'>KS Fiks dokumentasjon</a> > <a href='/fiks-platform/'>KS FIKS plattform</a> > Integrasjonsutvikling

 

 

   
        </span>
    </div>
    
    
    <div class="progress">
        <div class="wrapper">
    <nav id="TableOfContents">
<ul>
<li>
<ul>
<li>
<ul>
<li><a href="#integrasjoner">Integrasjoner</a></li>
</ul></li>
<li><a href="#teknologier">Teknologier</a>
<ul>
<li><a href="#rest">REST</a></li>
<li><a href="#innlogging-og-autorisasjon">Innlogging og autorisasjon</a></li>
<li><a href="#huskeliste">Huskeliste</a></li>
</ul></li>
</ul></li>
</ul>
</nav>
        </div>
    </div>
    

  </div>


<div id="body-inner">
  
    <h1>Integrasjonsutvikling</h1>
  



    
    
    
    

<h3 id="integrasjoner">Integrasjoner</h3>

<p>Før eksterne systemer kan integreres med plattformen må det opprettes en integrasjon inne i konfigurasjonsgrensesnittet.
Integrasjonen bør gis et beskrivende navn, i tillegg til at organisasjonsnummeret som ligger i virksomhetssertifikatet som
skal brukes til å kalle tjenesten må skrives inn. Etter at integrasjonen er opprettet vil den være tilgjengelig for alle
tjenester tilhørende organisasjonen den ble opprettet for.</p>

<p>En integrasjon må autoriseres for å bruke tjenester i plattformen. Om man for eksempel ønsker å aktivere en integrasjon
som skal kunne indeksere meldinger for MinSide Søk må dette gjøres på konfigurasjonssiden. Dette vil sørge for at
nødvendige rettigheter blir tildelt.</p>

<p>Plattformen har også noen integrasjoner som kalles &ldquo;globale integrasjoner&rdquo;. Dette er integrasjoner som er tilgjengelig for
alle organisasjoner. Dette kan for eksempel være integrasjonen som henter meldinger fra SvarUt og gjør disse tilgjengelig
i MinSide Søk.</p>

<h2 id="teknologier">Teknologier</h2>

<h3 id="rest">REST</h3>

<p>Vi benytter REST lignenede grensesnitt på alle api så lenge det er gunstig. Kun ved spesielle behov vil det bli benyttet
annen teknologi. Spesifikasjonen vil bli publisert ved OpenAPI spec. Da finnes det mange verktøy for å lage klienter i
forskjellige språk og teknologier. Vi vil benytte UTF-8 charset på alt om ikke annet er spesifisert.</p>

<p>Readtimeout på 30 sekund er fint som default. De operasjoenen som trenger noe annet vil spesifisere det.</p>

<h3 id="innlogging-og-autorisasjon">Innlogging og autorisasjon</h3>

<p>ntegrasjoner autentiseres ved at organisasjonen henter et OAuth 2.0 access token fra ID-Porten, identifisert ved hjelp av organisasjonens virksomhetssertifikat. Dokumentasjon for dette finnes <a href="https://difi.github.io/idporten-oidc-dokumentasjon/oidc_auth_server-to-server-oauth2.html">her</a>. Vi støtter i første omgang kun JWT access_tokens, dette må konfigureres hos idporten.</p>

<p>Følgende må gjøres i fiks konfigurasjon for å opprette en integrasjon:</p>

<ul>
<li><em>Sett autorisert organisasjon</em>. Dette vil som regel være organisasjonen som eier systemet som skal integrere seg mot Fiks, for eksempel hvis et fagsystem installert hos Bergen Kommune skal integreres mot meldingsboksen.</li>
<li><em>Genererer servicepassord</em>.</li>
<li><em>Tildel navn</em>. Et visningsnavn for integrasjonen.</li>
<li><em>Sett beskrivelse</em>. En beskrivelse av hva integrasjonen er og hvilke oppgaver den løsner.</li>
<li><em>Sett tjenester</em>. Hvilke tjenester er denne integrasjonen aktuell for?</li>
</ul>

<p>I tillegg må integrasjonen autoriseres for tilgang til en spesifikk tjeneste. Hvis fagsystemet skal kunne laste opp meldinger til Meldingsboksen må en administrator i kommunen benytte Fiks-Konfigurasjon for å legge til denne tilgangen hos den relvante kommunen.</p>

<p>Kallet mot Fiks-platform tjenesten trenger dermed følgende HTTP headere:</p>

<ul>
<li><em>Authorization</em>: OAuth-2.0 Jwt Access token som bekrefter organisasjonens identitet, signert av ID-Porten.</li>
<li><em>IntegrasjonId</em>: Id for integrasjonen, generert i Fiks-Konfigurasjon. Orgnr i Jwt&rsquo;en i <em>Authorization</em> header må være konfigurert som autorisert organisasjon for integrasjonen.</li>
<li><em>IntegrasjonPassord</em>: Passord for integrasjonen, generert i Fiks-Konfigurasjon</li>
</ul>

<h3 id="huskeliste">Huskeliste</h3>

<ul>
<li>access_token fra idporten</li>
<li>access_token må ha scope ks</li>
<li>Read timeout: 30 sekunder</li>
<li>Charset UTF-8</li>
</ul>


    
    
          <footer class=" footline" >
	
</footer>
  </div>
</div>

<div id="navigation">
</div>

</section>
<div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
  <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
</div>    

<script src="/js/clipboard.min.js"></script>
<script src="/js/featherlight.min.js"></script>
<script src="/js/html5shiv-printshiv.min.js"></script>

<script src="/js/modernizr.custom.71422.js"></script>
<script src="/js/docdock.js"></script>
<script src="/theme-original/script.js"></script>


    

    
    

    
  </body>
</html>